"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5293],{15293:(e,t,i)=>{i.d(t,{A:()=>I});var a=i(27002),n=i.n(a),s=i(14232),r=i(63857),l=i(43081),c=i.n(l),o=i(87334),d=i(3566),x=i(36423),m=i(73301),h=i(80878),p=i(1440),u=i(83240),f=i(43617),g=i(30638),j=i(33413),b=i(3410),v=i(89099),y=i(10553),w=i(46264),k=i(43017),N=i(94085),A=i(72567),C=i(37876);let S=function(e){var t,i,a,n=e.templateData,l=e.isFavorited,S=void 0!==l&&l,T=e.showUseTemplate,I=void 0===T||T,H=(0,v.useRouter)(),P=(0,s.useState)(!1),z=P[0],F=P[1],E=(0,s.useState)(!0),_=E[0],R=E[1],L=(0,s.useState)(""),K=L[0],D=L[1],Y=n.id,M=n.slug,U=(0,s.useState)(!1),V=U[0],B=U[1],X=(0,s.useState)(!1),G=X[0],W=X[1],q="authenticated"===(0,y.useSession)().status,Q=(0,s.useState)(S),O=Q[0],J=Q[1],$=(0,s.useState)(!1),Z=$[0],ee=$[1];(0,s.useEffect)(function(){J(S)},[S]);var et=(0,w.p)().toggleFavorite,ei="".concat(x.A.APP_URL,"/template/").concat(M);(0,s.useEffect)(function(){ea()},[]);var ea=(t=(0,r.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.toDataURL(ei,{width:128,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"});case 3:D(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error generating QR code:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),en=function(){F(!1),R(!0)},es=(i=(0,r.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,H.push("/editor-template/".concat(Y));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Navigation error:",e.t0),B(!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(){return i.apply(this,arguments)}),er=(a=(0,r.A)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=2;break}return e.abrupt("return");case 2:if(q){e.next=5;break}return m.Ay.error("Vui l\xf2ng đăng nhập để th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"),e.abrupt("return");case 5:return W(!0),e.prev=6,t=O,J(!O),e.next=11,et(Y);case 11:e.sent?m.Ay.success(t?"Đ\xe3 x\xf3a khỏi danh s\xe1ch y\xeau th\xedch":"Đ\xe3 th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"):(J(t),m.Ay.error("Kh\xf4ng thể cập nhật trạng th\xe1i y\xeau th\xedch. Vui l\xf2ng thử lại sau.")),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("Error updating favorite status:",e.t0),J(S),m.Ay.error("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại sau.");case 20:return e.prev=20,W(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[6,15,20,23]])})),function(){return a.apply(this,arguments)});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"flex gap-2 items-center flex-col",children:(0,C.jsx)("div",{className:"",children:(0,C.jsx)("button",{onClick:function(){F(!0)},style:{background:"linear-gradient(135deg, #fa7f98 0%, #e66f87 100%)",borderRadius:40},className:"px-4 py-1 text-white font-semibold rounded opacity-70 hover:opacity-100 transition-opacity duration-200",children:"Xem mẫu"})})}),(0,C.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-1 left-1 py-0.5",children:(0,C.jsx)(h.A,{title:O?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:(0,C.jsx)("button",{onClick:er,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":O?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:O?(0,C.jsx)(g.A,{style:{fontSize:25,color:"#ff4d6d"}}):(0,C.jsx)(j.A,{style:{fontSize:25,color:"#ff4d6d"}})})})}),(0,C.jsx)("div",{className:"absolute top-2 right-2",children:(0,C.jsx)(k.A,{favoriteCount:n.favoriteCount,viewCount:n.viewCount,usageCount:n.usageCount,vertical:!0})}),(0,C.jsx)(o.e,{appear:!0,show:z,as:s.Fragment,children:(0,C.jsxs)(d.lG,{style:{zIndex:9999},as:"div",className:"relative z-10",onClose:en,children:[(0,C.jsx)(o.e.Child,{as:s.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,C.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,C.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,C.jsx)(o.e.Child,{as:s.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-400",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,C.jsxs)(d.lG.Panel,{className:"w-full max-w-md md:max-w-2xl lg:max-w-2xl xl:max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,C.jsx)("div",{className:"flex justify-center items-center",children:(0,C.jsxs)("div",{className:"max-w-4xl w-full p-2 flex flex-col md:flex-row",children:[(0,C.jsxs)("div",{className:"flex flex-col items-center w-full md:w-1/2 px-2 rounded-lg",children:[(0,C.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-2 left-1 py-0.5",children:(0,C.jsx)("button",{onClick:er,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":O?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:O?(0,C.jsx)(g.A,{style:{fontSize:25,color:"#ff4d6d"}}):(0,C.jsx)(j.A,{style:{fontSize:25,color:"#ff4d6d"}})})}),(0,C.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,C.jsx)(k.A,{favoriteCount:n.favoriteCount,viewCount:n.viewCount,usageCount:n.usageCount,vertical:!0})}),(0,C.jsxs)("div",{className:"iframe-wrapper bg-white rounded-lg overflow-hidden shadow-md w-full relative",style:{width:"90%",height:"70vh",overflow:"hidden"},children:[_&&(0,C.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:(0,C.jsx)(p.A,{size:"default",tip:"Loading template..."})}),(0,C.jsx)("iframe",{src:"".concat(x.A.APP_URL,"/template/iframe/").concat(M),title:"Xem trước mẫu thiệp",style:{width:"166.67%",height:"166.67%",transform:"scale(0.6)",transformOrigin:"top left",border:"none",visibility:_?"hidden":"visible"},frameBorder:"0",allowFullScreen:!0,onLoad:function(){R(!1)}})]})]}),(0,C.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-between p-4 border-l",children:[(0,C.jsx)("div",{className:"mb-4 hidden md:block",children:I?(0,C.jsxs)("ul",{className:"text-gray-700 space-y-2",children:[(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Chuy\xean nghiệp:"})," Thiết kế đẹp mắt, ph\xf9 hợp nhiều phong c\xe1ch"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Dễ d\xe0ng:"})," Chỉnh sửa trực quan, kh\xf4ng cần kinh nghiệm"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Tiện lợi:"})," Chia sẻ ngay qua mạng x\xe3 hội hoặc tin nhắn"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Tối ưu:"})," Hiển thị tốt tr\xean mọi thiết bị"]})]}):(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Dịch vụ tạo thiệp trọn g\xf3i"}),(0,C.jsxs)("ul",{className:"text-gray-700 space-y-2 text-left",children:[(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Thiết kế chuy\xean nghiệp:"})," Đội ngũ designer tạo thiệp theo y\xeau cầu"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Ho\xe0n thiện 100%:"})," Từ thiết kế đến triển khai, bạn kh\xf4ng cần l\xe0m g\xec"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Thời gian nhanh:"})," Ho\xe0n th\xe0nh sau 1-3 ng\xe0y l\xe0m việc"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Hỗ trợ 24/7:"})," Đội ngũ chuy\xean nghiệp lu\xf4n sẵn s\xe0ng hỗ trợ"]})]})]})}),(0,C.jsxs)("div",{className:"flex space-x-4 ".concat(I?"justify-between":"justify-center"),children:[(0,C.jsx)(u.Ay,{className:"px-4 m-auto py-2 rounded-full",onClick:function(){var e=I?ei:"".concat(ei).concat(ei.includes("?")?"&":"?","onlyPreview=true");window.open(e,"_blank")},children:"Xem trực tiếp"}),I?(0,C.jsx)(u.Ay,{onClick:es,type:"primary",className:"px-4 m-auto py-2 text-white font-semibold rounded-full hover:opacity-100 transition-opacity duration-200",disabled:V,children:V?(0,C.jsxs)("span",{className:"flex items-center gap-2",children:[(0,C.jsx)(p.A,{size:"small"}),"Loading..."]}):"D\xf9ng mẫu n\xe0y"}):(0,C.jsx)(u.Ay,{onClick:function(){ee(!0)},type:"primary",className:"px-6 py-2 text-white font-semibold rounded-full hover:opacity-100 transition-opacity duration-200 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:"Đặt l\xe0m mẫu n\xe0y"})]}),!N.Fr&&(0,C.jsxs)("div",{className:"flex flex-col items-center",children:[K?(0,C.jsx)("img",{src:K,alt:"QR Code",className:"w-32 h-32 mb-4"}):(0,C.jsx)("div",{className:"w-32 h-32 mb-4 flex items-center justify-center",children:(0,C.jsx)(p.A,{size:"small"})}),(0,C.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:"Qu\xe9t m\xe3 QR để xem tr\xean điện thoại"})]})]})]})}),(0,C.jsx)("div",{className:"mt-2 md:hidden flex justify-center",children:(0,C.jsxs)("button",{onClick:en,className:"w-full max-w-sm py-3 px-4 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[(0,C.jsx)(b.A,{}),"Đ\xf3ng"]})})]})})})})]})}),!I&&(0,C.jsx)(A.A,{open:Z,onCancel:function(){return ee(!1)},templateId:Y,onSuccess:function(){console.log("Package selection completed successfully")}})]})};var T=i(32716);let I=function(e){var t=e.imageSrc,i=e.templateData,a=e.showUseTemplate,r=(0,s.useState)(0),l=r[0],c=r[1],o=(0,s.useRef)(null),d=(0,s.useState)(336),x=d[0],m=d[1],h=(0,s.useRef)(null),p=(0,(0,w.p)().isFavorite)(i.id);!function(){var e=new Date,t=i.createdAt?new Date(i.createdAt):null,a=t&&e.getTime()-t.getTime()<=5184e6,n=i.viewCount&&i.viewCount>1e3||i.favoriteCount&&i.favoriteCount>100||i.usageCount&&i.usageCount>800;if(a&&n||a||n);}();var u=i.templateType?{type:i.templateType.toLowerCase(),text:i.templateType.toUpperCase()}:{type:"free",text:"FREE"};(0,s.useEffect)(function(){var e=function(){var e=h.current;e&&m(Math.floor(1.47*e.clientWidth))};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(function(){var e=o.current;e&&(e.complete?f(e):e.onload=function(){return f(e)})},[t,x]);var f=function(e){var t=e.naturalWidth/e.naturalHeight;c(Math.max(0,e.width/t-x))};return(0,C.jsxs)("div",{style:{"--image-scroll-height":"".concat(l,"px"),"--scroll-duration":"".concat(l/120,"s"),"--container-height":"".concat(x,"px")},className:"jsx-2086975127 infrastructure",children:[(0,C.jsxs)("div",{style:{width:"100%",borderRadius:5},className:"jsx-2086975127 invitation finger transition",children:[(0,C.jsxs)("div",{ref:h,className:"jsx-2086975127 image",children:[u&&(0,C.jsx)("div",{className:"jsx-2086975127 "+"badge badge-".concat(u.type," badge-right"),children:u.text}),(0,C.jsx)("div",{className:"jsx-2086975127 el-image elImage",children:(0,C.jsx)("img",{ref:o,src:t,alt:"".concat((0,T.g)(i.categoryId)," miễn ph\xed - ").concat(i.templateName||(0,T.g)(i.categoryId)," | Cinelove"),title:"Xem v\xe0 t\xf9y chỉnh ".concat(i.templateName||(0,T.g)(i.categoryId)," miễn ph\xed"),style:{objectFit:"contain"},loading:"lazy",decoding:"async",className:"jsx-2086975127 el-image__inner"})})]}),(0,C.jsx)("div",{className:"jsx-2086975127",children:(0,C.jsx)("div",{className:"jsx-2086975127 absolute inset-0 flex items-end justify-center opacity-0 transition-opacity duration-300 hover:opacity-100 pb-4",children:(0,C.jsx)(S,{templateData:i,isFavorited:p,showUseTemplate:void 0===a||a})})})]}),(0,C.jsx)(n(),{id:"2086975127",children:[".invitation.jsx-2086975127,.poster.jsx-2086975127,.mv.jsx-2086975127{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".invitation.jsx-2086975127{border:1px solid #0000001f;box-shadow:0 0 10px #0003;}",".finger.jsx-2086975127{cursor:pointer;}",".transition.jsx-2086975127{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}",".invitation.jsx-2086975127 .image.jsx-2086975127{height:var(--container-height);overflow:hidden;width:100%;border-radius:5px;position:relative;}",".poster.jsx-2086975127 .image.jsx-2086975127{width:100%;border-radius:5px;}",".elImage.jsx-2086975127{width:100%;height:100%;}",".el-image__inner.jsx-2086975127,.el-image__wrapper.jsx-2086975127{height:100%;width:100%;}",".el-image.jsx-2086975127{display:inline-block;overflow:hidden;position:relative;}",".elImage.jsx-2086975127 .el-image__inner.jsx-2086975127{height:auto;-webkit-transition:-webkit-transform 1s ease 0s;-webkit-transition:transform 1s ease 0s;transition:transform 1s ease 0s;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}",".el-image__inner.jsx-2086975127{opacity:1;vertical-align:top;}",".invitation.jsx-2086975127:hover,.poster.jsx-2086975127:hover{background:#fff !important;-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);box-shadow:0 0 10px #0003;}",".invitation.jsx-2086975127:hover .elImage.jsx-2086975127 .el-image__inner.jsx-2086975127,.poster.jsx-2086975127:hover .elImage.jsx-2086975127 .el-image__inner.jsx-2086975127{-webkit-transition:-webkit-transform var(--scroll-duration) ease 0s;-webkit-transition:transform var(--scroll-duration) ease 0s;transition:transform var(--scroll-duration) ease 0s;-webkit-transform:translateY(calc(var(--image-scroll-height) * -1));-ms-transform:translateY(calc(var(--image-scroll-height) * -1));transform:translateY(calc(var(--image-scroll-height) * -1));}",".center.jsx-2086975127{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".badge.jsx-2086975127{position:absolute;top:8px;left:8px;z-index:1;padding:2px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;line-height:17px;}",".badge-new.jsx-2086975127{background:linear-gradient(135deg,#10b981,#059669);color:white;}",".badge-hot.jsx-2086975127{background:linear-gradient(135deg,#f59e0b,#d97706);color:white;}",".badge-premium.jsx-2086975127{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:white;}",".badge-basic.jsx-2086975127{background:linear-gradient(135deg,#3b82f6,#2563eb);color:white;}",".badge-free.jsx-2086975127{background:linear-gradient(135deg,#6b7280,#4b5563);color:white;display:none;}",".badge-right.jsx-2086975127{top:8px;right:8px;left:auto;}",".invitation.jsx-2086975127:hover .badge.jsx-2086975127{opacity:0;-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);-webkit-transition:all 0.3s ease;transition:all 0.3s ease;-webkit-transform:translateY(-40px);-ms-transform:translateY(-40px);transform:translateY(-40px);}","@media (max-width:500px){.button.jsx-2086975127{font-size:12px;padding:6px 10px;}.badge.jsx-2086975127{font-size:10px;padding:2px 6px;top:6px;left:6px;border-radius:8px;}.badge-right.jsx-2086975127{top:6px;right:6px;left:auto;}}"]})]})}},32716:(e,t,i)=>{i.d(t,{a:()=>a,g:()=>n});var a=function(e){var t=Math.floor(e/60),i=Math.floor(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))},n=function(e){return"thiep-cuoi"===e?"Thiệp cưới online":"thiep-sinh-nhat"===e?"Thiệp sinh nhật online":"Thiệp online"}},43017:(e,t,i)=>{i.d(t,{A:()=>r}),i(14232);var a=i(30638),n=i(54979),s=i(37876);let r=function(e){var t=e.favoriteCount,i=e.viewCount,r=e.vertical,l=void 0===r||r,c=e.size,o=void 0===c?"default":c,d="flex ".concat(l?"flex-col":"flex-row"," ").concat(l?"gap-1":"gap-2"," items-").concat(l?"end":"center"),x="rounded-full text-xs font-medium flex items-center ".concat("small"===o?"px-1.5 py-0.5 text-[10px]":"px-2 py-1");return(0,s.jsxs)("div",{className:d,children:[(0,s.jsxs)("div",{style:{background:"#ff4d6d"},className:"text-white ".concat(x),children:[(0,s.jsx)(a.A,{style:{marginRight:4,fontSize:"small"===o?10:14}}),void 0===t?0:t]}),(0,s.jsxs)("div",{className:"bg-blue-500 text-white ".concat(x),children:[(0,s.jsx)(n.A,{style:{marginRight:4,fontSize:"small"===o?10:14}}),void 0===i?0:i]})]})}},72567:(e,t,i)=>{i.d(t,{A:()=>h});var a=i(14232),n=i(45503),s=i(83240),r=i(22927),l=i(71582),c=i(58371),o=i(90769),d=i(24530),x=i(76446),m=i(37876);let h=function(e){var t=e.open,i=e.onCancel,h=e.templateId,p=e.onSuccess,u=(0,a.useState)(null),f=u[0],g=u[1],j=(0,a.useState)(!1),b=j[0],v=j[1],y=function(e){var t=parseInt(d.HT[e].price.replace(/[^\d]/g,"")),i=0;switch(e){case"free":default:i=0;break;case"basic":i=parseInt(d.bE.BASIC.price.replace(/[^\d]/g,""));break;case"premium":i=parseInt(d.bE.PREMIUM.price.replace(/[^\d]/g,""))}return t+i},w=[{id:"free",name:"G\xf3i 1 (Free)",icon:(0,m.jsx)(r.A,{className:"w-5 h-5"}),color:"bg-green-500",price:"".concat(d.HT.free.price,"đ"),originalPrice:null,description:"Free Templates"},{id:"basic",name:"G\xf3i 2 (Basic)",icon:(0,m.jsx)(l.A,{className:"w-5 h-5"}),color:"bg-blue-500",price:"".concat(d.HT.basic.price,"đ"),originalPrice:"".concat(d.HT.basic.originalPrice,"đ"),description:"Basic Templates"},{id:"premium",name:"G\xf3i 3 (Premium)",icon:(0,m.jsx)(c.A,{className:"w-5 h-5"}),color:"bg-purple-500",price:"".concat(d.HT.premium.price,"đ"),originalPrice:"".concat(d.HT.premium.originalPrice,"đ"),description:"Premium Templates"}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.A,{title:"Chọn g\xf3i dịch vụ",open:t&&!b,onCancel:i,footer:(0,m.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,m.jsx)(s.Ay,{onClick:i,children:"Hủy"}),(0,m.jsx)(s.Ay,{type:"primary",onClick:function(){f&&v(!0)},disabled:!f,className:"bg-gradient-to-r from-pink-500 to-purple-600 border-0",children:"Tiếp tục"})]}),width:600,centered:!0,className:"package-selection-modal",zIndex:0x5f5e0ff,maskStyle:{zIndex:0x5f5e0fe},children:(0,m.jsxs)("div",{className:"py-2",children:[(0,m.jsx)("p",{className:"text-gray-600 mb-3 text-center text-sm",children:"Chọn g\xf3i dịch vụ ph\xf9 hợp để tạo thiệp theo mẫu n\xe0y"}),(0,m.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-3",children:(0,m.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("span",{className:"text-lg mr-2",children:"\uD83C\uDFA8"}),(0,m.jsx)("span",{className:"font-medium text-gray-700",children:"Ph\xed tạo thiệp:"})]}),(0,m.jsx)("span",{className:"font-bold text-gray-800",children:f?"".concat(d.HT[f].price,"đ"):"Chọn g\xf3i để xem gi\xe1"})]})}),(0,m.jsx)("div",{className:"grid gap-3",children:w.map(function(e){return(0,m.jsxs)("div",{className:"border rounded-lg p-3 cursor-pointer transition-all hover:shadow-md ".concat(f===e.id?"border-pink-500 bg-pink-50 ring-2 ring-pink-200":"border-gray-200"),onClick:function(){return g(e.id)},children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsx)("div",{className:"p-2 rounded-full text-white ".concat(e.color),children:e.icon}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"font-semibold text-gray-800 text-sm",children:e.name}),(0,m.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]})]}),(0,m.jsxs)("div",{className:"text-right",children:[(0,m.jsx)("div",{className:"flex items-center space-x-2",children:"free"===e.id?(0,m.jsx)("span",{className:"text-base font-bold text-green-600",children:"0đ"}):(0,m.jsxs)(m.Fragment,{children:[e.originalPrice&&(0,m.jsxs)("span",{className:"text-xs text-gray-400 line-through",children:[e.originalPrice,"đ"]}),(0,m.jsx)("span",{className:"text-base font-bold text-gray-800",children:"basic"===e.id?"".concat(d.bE.BASIC.price,"đ"):"".concat(d.bE.PREMIUM.price,"đ")})]})}),"free"!==e.id&&e.originalPrice&&(0,m.jsxs)("div",{className:"text-xs text-red-500 font-medium",children:["-",Math.round((1-parseInt("basic"===e.id?d.bE.BASIC.price.replace(/[^\d]/g,""):d.bE.PREMIUM.price.replace(/[^\d]/g,""))/parseInt(e.originalPrice.replace(/[^\d]/g,"")))*100),"%"]})]})]}),(0,m.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,m.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs text-gray-600",children:[(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&o.HK.free.duration,"basic"===e.id&&o.HK.basic.duration,"premium"===e.id&&o.HK.premium.duration]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Lưu trữ"})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&"".concat(o.HK.free.maxImages),"basic"===e.id&&"".concat(o.HK.basic.maxImages),"premium"===e.id&&"".concat(o.HK.premium.maxImages)]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Ảnh"})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&"".concat(o.HK.free.maxWebsites),"basic"===e.id&&"".concat(o.HK.basic.maxWebsites),"premium"===e.id&&"".concat(o.HK.premium.maxWebsites)]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Website/thiệp"})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&"".concat(o.HK.free.maxViews.toLocaleString()),"basic"===e.id&&"".concat(o.HK.basic.maxViews.toLocaleString()),"premium"===e.id&&"".concat(o.HK.premium.maxViews.toLocaleString())]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Lượt xem"})]})]})})]},e.id)})}),f&&(0,m.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-3",children:[(0,m.jsxs)("div",{className:"text-center flex items-center gap-2",children:[(0,m.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"Tổng cộng:"}),(0,m.jsxs)("div",{className:"text-xl font-bold text-pink-600 mb-1",children:[y(f).toLocaleString(),"đ"]})]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Bao gồm ph\xed thiết kế + n\xe2ng cấp g\xf3i"})]})]})}),(0,m.jsx)(x.A,{open:b,onCancel:function(){v(!1),g(null)},selectedPlan:f||"free",totalPrice:f?y(f):139e3,templateId:h,onSuccess:function(){v(!1),g(null),i(),null==p||p()}})]})}},76446:(e,t,i)=>{i.d(t,{A:()=>p});var a=i(63857),n=i(27925),s=i(43081),r=i.n(s);i(14232);var l=i(90916),c=i(73301),o=i(45503),d=i(78972),x=i(83240),m=i(89099),h=i(37876);let p=function(e){var t,i=e.open,s=e.onCancel,p=e.selectedPlan,u=e.totalPrice,f=e.templateId,g=e.onSuccess,j=(0,m.useRouter)(),b=l.A.useForm(),v=(0,n.A)(b,1)[0],y=(t=(0,a.A)(r().mark(function e(t){var i;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{i={name:t.name,email:t.email,phone:t.phone,notes:t.notes,templateId:f,packageId:p,totalPrice:u},localStorage.setItem("thiepTronGoiCheckoutData",JSON.stringify(i)),s(),v.resetFields(),g&&g(),j.push("/checkout/thiep-tron-goi")}catch(e){c.Ay.error("C\xf3 lỗi xảy ra, vui l\xf2ng thử lại")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),w=function(){s(),v.resetFields()};return(0,h.jsx)(o.A,{title:"Đăng k\xfd tạo thiệp trọn g\xf3i",open:i,onCancel:w,footer:null,width:500,zIndex:0x5f5e0ff,maskStyle:{zIndex:0x5f5e0fe},centered:!0,children:(0,h.jsx)("div",{className:"py-4",children:(0,h.jsxs)(l.A,{form:v,layout:"vertical",onFinish:y,className:"space-y-4",children:[(0,h.jsx)(l.A.Item,{name:"name",label:"Họ v\xe0 t\xean",rules:[{required:!0,message:"Vui l\xf2ng nhập họ v\xe0 t\xean"},{min:2,message:"Họ v\xe0 t\xean phải c\xf3 \xedt nhất 2 k\xfd tự"}],children:(0,h.jsx)(d.A,{placeholder:"Nhập họ v\xe0 t\xean của bạn"})}),(0,h.jsx)(l.A.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Vui l\xf2ng nhập email"},{type:"email",message:"Email kh\xf4ng hợp lệ"}],children:(0,h.jsx)(d.A,{placeholder:"Nhập email của bạn"})}),(0,h.jsx)(l.A.Item,{name:"phone",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại"},{pattern:/^[0-9]{10,11}$/,message:"Số điện thoại kh\xf4ng hợp lệ"}],children:(0,h.jsx)(d.A,{placeholder:"Nhập số điện thoại của bạn"})}),(0,h.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,h.jsx)(x.Ay,{onClick:w,children:"Hủy"}),(0,h.jsx)(x.Ay,{type:"primary",htmlType:"submit",className:"bg-gradient-to-r from-pink-500 to-purple-600 border-0",children:"Tiếp tục thanh to\xe1n"})]})]})})})}}}]);
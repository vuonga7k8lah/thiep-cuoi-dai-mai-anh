(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1078],{1347:e=>{e.exports={customScroll:"styles_customScroll__X5r6w"}},4105:(e,t,n)=>{"use strict";n.d(t,{A:()=>eg});var r=n(27002),a=n.n(r),i=n(14232),s=n(69241),o=n(8937),c=n(22800),l=n(93936),p=n(36423),u=n(37876);let x=function(e){var t=e.duration,n=void 0===t?4e3:t,r=e.imageUrl,s=void 0===r?"".concat(p.A.CDN_URL,"/assets/opening-effects/animated-image-1.webp"):r,o=e.title,c=e.subtitle,l=void 0===c?"Xin mời xem thiệp cưới của ch\xfang m\xecnh nha":c,x=(0,i.useState)(!0),f=x[0],d=x[1],m=(0,i.useState)(!1),g=m[0],b=m[1],h=(0,i.useState)(""),v=h[0],w=h[1],k=(0,i.useState)(0),j=(k[0],k[1]);return((0,i.useEffect)(function(){var e=setTimeout(function(){b(!0)},n-500),t=setTimeout(function(){d(!1)},n);return function(){clearTimeout(e),clearTimeout(t)}},[n]),(0,i.useEffect)(function(){w(""),j(0)},[l]),(0,i.useEffect)(function(){var e=setTimeout(function(){var e=setInterval(function(){j(function(t){return t<l.length?(w(l.slice(0,t+1)),t+1):(clearInterval(e),t)})},80);return function(){return clearInterval(e)}},500);return function(){return clearTimeout(e)}},[l]),f)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"jsx-1506689133 animated-image-overlay"}),(0,u.jsxs)("div",{className:"jsx-1506689133 animated-background",children:[(0,u.jsxs)("div",{className:"jsx-1506689133 stars-container",children:[(0,u.jsx)("div",{className:"jsx-1506689133 stars stars-1"}),(0,u.jsx)("div",{className:"jsx-1506689133 stars stars-2"}),(0,u.jsx)("div",{className:"jsx-1506689133 stars stars-3"})]}),(0,u.jsx)("div",{className:"jsx-1506689133 gradient-overlay"})]}),(0,u.jsxs)("div",{className:"jsx-1506689133 "+"animated-image-container ".concat(g?"exiting":""),children:[(0,u.jsx)("div",{className:"jsx-1506689133 text-block title-block",children:(0,u.jsx)("h1",{className:"jsx-1506689133 main-title",children:void 0===o?"Wedding Day":o})}),(0,u.jsx)("div",{className:"jsx-1506689133 animated-image-wrapper",children:(0,u.jsx)("img",{src:s,alt:"Card Opening Animation",className:"jsx-1506689133 animated-image"})}),(0,u.jsx)("div",{className:"jsx-1506689133 text-block subtitle-block",children:(0,u.jsxs)("p",{className:"jsx-1506689133 subtitle-text",children:[v,(0,u.jsx)("span",{className:"jsx-1506689133 typing-cursor",children:"|"})]})})]}),(0,u.jsx)(a(),{id:"1506689133",children:[".animated-background.jsx-1506689133{position:fixed;top:0;left:0;width:100vw;height:100vh;background:linear-gradient( 135deg, #820000 0%, #5a0000 50%, #3a0000 100% );z-index:9999;overflow:hidden;}",".stars-container.jsx-1506689133{position:absolute;width:100%;height:100%;overflow:hidden;}",".stars.jsx-1506689133{position:absolute;width:100%;height:100%;-webkit-animation:twinkle-jsx-1506689133 4s ease-in-out infinite;animation:twinkle-jsx-1506689133 4s ease-in-out infinite;}",".stars-1.jsx-1506689133{background-image:radial-gradient( 0.5px 0.5px at 25px 45px, #fff, transparent ), radial-gradient( 2.5px 2.5px at 85px 120px, rgba(255,255,255,0.9), transparent ), radial-gradient(1.2px 1.2px at 150px 35px,#fff,transparent), radial-gradient( 3px 3px at 220px 180px, rgba(255,255,255,0.7), transparent ), radial-gradient(0.8px 0.8px at 280px 65px,#fff,transparent), radial-gradient( 1.8px 1.8px at 350px 140px, rgba(255,255,255,0.8), transparent ), radial-gradient(0.3px 0.3px at 420px 95px,#fff,transparent), radial-gradient( 2.2px 2.2px at 480px 200px, rgba(255,255,255,0.6), transparent );background-repeat:repeat;background-size:500px 300px;-webkit-animation-delay:0s;animation-delay:0s;}",".stars-2.jsx-1506689133{background-image:radial-gradient( 1.5px 1.5px at 15px 80px, rgba(255,255,255,0.8), transparent ), radial-gradient(0.4px 0.4px at 95px 25px,#fff,transparent), radial-gradient( 2.8px 2.8px at 175px 160px, rgba(255,255,255,0.9), transparent ), radial-gradient(1px 1px at 245px 75px,#fff,transparent), radial-gradient( 0.6px 0.6px at 315px 190px, rgba(255,255,255,0.7), transparent ), radial-gradient(2px 2px at 385px 45px,#fff,transparent), radial-gradient( 1.4px 1.4px at 455px 125px, rgba(255,255,255,0.8), transparent ), radial-gradient(0.7px 0.7px at 525px 210px,#fff,transparent);background-repeat:repeat;background-size:550px 250px;-webkit-animation-delay:1.5s;animation-delay:1.5s;opacity:0.8;}",".stars-3.jsx-1506689133{background-image:radial-gradient( 0.2px 0.2px at 35px 110px, rgba(255,255,255,0.6), transparent ), radial-gradient(1.6px 1.6px at 105px 55px,#fff,transparent), radial-gradient( 3.2px 3.2px at 185px 145px, rgba(255,255,255,0.8), transparent ), radial-gradient(0.9px 0.9px at 255px 85px,#fff,transparent), radial-gradient( 2.4px 2.4px at 325px 175px, rgba(255,255,255,0.7), transparent ), radial-gradient(0.5px 0.5px at 395px 35px,#fff,transparent), radial-gradient( 1.8px 1.8px at 465px 155px, rgba(255,255,255,0.9), transparent ), radial-gradient(0.3px 0.3px at 535px 95px,#fff,transparent);background-repeat:repeat;background-size:570px 320px;-webkit-animation-delay:3s;animation-delay:3s;opacity:0.6;}","@-webkit-keyframes twinkle-jsx-1506689133{0%,100%{opacity:0.3;-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}50%{opacity:1;-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);}}","@keyframes twinkle-jsx-1506689133{0%,100%{opacity:0.3;-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}50%{opacity:1;-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);}}","@-webkit-keyframes float-jsx-1506689133{0%,100%{-webkit-transform:translateY(0px) rotate(0deg);-ms-transform:translateY(0px) rotate(0deg);transform:translateY(0px) rotate(0deg);}33%{-webkit-transform:translateY(-20px) rotate(1deg);-ms-transform:translateY(-20px) rotate(1deg);transform:translateY(-20px) rotate(1deg);}66%{-webkit-transform:translateY(-10px) rotate(-1deg);-ms-transform:translateY(-10px) rotate(-1deg);transform:translateY(-10px) rotate(-1deg);}}","@keyframes float-jsx-1506689133{0%,100%{-webkit-transform:translateY(0px) rotate(0deg);-ms-transform:translateY(0px) rotate(0deg);transform:translateY(0px) rotate(0deg);}33%{-webkit-transform:translateY(-20px) rotate(1deg);-ms-transform:translateY(-20px) rotate(1deg);transform:translateY(-20px) rotate(1deg);}66%{-webkit-transform:translateY(-10px) rotate(-1deg);-ms-transform:translateY(-10px) rotate(-1deg);transform:translateY(-10px) rotate(-1deg);}}","@-webkit-keyframes glow-jsx-1506689133{0%,100%{box-shadow:0 0 20px rgba(255,255,255,0.1);}50%{box-shadow:0 0 40px rgba(255,255,255,0.3);}}","@keyframes glow-jsx-1506689133{0%,100%{box-shadow:0 0 20px rgba(255,255,255,0.1);}50%{box-shadow:0 0 40px rgba(255,255,255,0.3);}}",".gradient-overlay.jsx-1506689133{position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient( ellipse at center, transparent 0%, rgba(130,0,0,0.3) 70%, rgba(130,0,0,0.8) 100% );pointer-events:none;}",".animated-image-overlay.jsx-1506689133{position:fixed;inset:0;z-index:99999;-webkit-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;}",".animated-image-container.exiting.jsx-1506689133 .animated-image-overlay.jsx-1506689133{opacity:0;}",".animated-image-container.jsx-1506689133{position:fixed;top:0;left:0;width:100vw;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;z-index:10001;pointer-events:none;-webkit-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;gap:20px;}",".animated-image-container.exiting.jsx-1506689133{opacity:0;}",".animated-image-wrapper.jsx-1506689133{position:relative;max-width:40vw;max-height:40vh;overflow:hidden;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1;-webkit-transition:-webkit-transform 0.5s ease-out,opacity 0.5s ease-out;-webkit-transition:transform 0.5s ease-out,opacity 0.5s ease-out;transition:transform 0.5s ease-out,opacity 0.5s ease-out;}",".animated-image-container.exiting.jsx-1506689133 .animated-image-wrapper.jsx-1506689133{-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);opacity:0;}",".animated-image.jsx-1506689133{width:100%;height:100%;object-fit:cover;display:block;}",".text-block.jsx-1506689133{text-align:center;-webkit-animation:fadeInUp-jsx-1506689133 1s ease-out;animation:fadeInUp-jsx-1506689133 1s ease-out;}",".title-block.jsx-1506689133{margin-bottom:10px;}",".subtitle-block.jsx-1506689133{margin-top:10px;}",'.main-title.jsx-1506689133{font-size:3.5rem;font-weight:700;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,0.8);margin:0;-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;font-family:"Playfair Display",serif;-webkit-animation:titleGlow-jsx-1506689133 3s ease-in-out infinite;animation:titleGlow-jsx-1506689133 3s ease-in-out infinite;}','.subtitle-text.jsx-1506689133{font-size:1.2rem;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,0.8);margin:0;font-weight:300;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-family:"Inter",sans-serif;opacity:0.9;white-space:normal;word-wrap:break-word;max-width:80vw;text-align:center;line-height:1.4;}',".typing-cursor.jsx-1506689133{-webkit-animation:blink-jsx-1506689133 1s infinite;animation:blink-jsx-1506689133 1s infinite;color:#fff;font-weight:bold;}","@-webkit-keyframes blink-jsx-1506689133{0%,50%{opacity:1;}51%,100%{opacity:0;}}","@keyframes blink-jsx-1506689133{0%,50%{opacity:1;}51%,100%{opacity:0;}}","@-webkit-keyframes fadeInUp-jsx-1506689133{from{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@keyframes fadeInUp-jsx-1506689133{from{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@-webkit-keyframes titleGlow-jsx-1506689133{0%,100%{text-shadow:2px 2px 4px rgba(0,0,0,0.8), 0 0 20px rgba(255,255,255,0.1);}50%{text-shadow:2px 2px 4px rgba(0,0,0,0.8), 0 0 30px rgba(255,255,255,0.3);}}","@keyframes titleGlow-jsx-1506689133{0%,100%{text-shadow:2px 2px 4px rgba(0,0,0,0.8), 0 0 20px rgba(255,255,255,0.1);}50%{text-shadow:2px 2px 4px rgba(0,0,0,0.8), 0 0 30px rgba(255,255,255,0.3);}}","@-webkit-keyframes pulse-jsx-1506689133{0%,100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}50%{-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}}","@keyframes pulse-jsx-1506689133{0%,100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}50%{-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}}",".animated-image.jsx-1506689133{-webkit-animation:pulse-jsx-1506689133 2s ease-in-out infinite;animation:pulse-jsx-1506689133 2s ease-in-out infinite;}","@media (max-width:768px){.animated-image-wrapper.jsx-1506689133{max-width:70vw;max-height:50vh;}.main-title.jsx-1506689133{font-size:2.5rem;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;}.subtitle-text.jsx-1506689133{font-size:1rem;max-width:85vw;line-height:1.3;}.animated-image-container.jsx-1506689133{gap:65px;}.stars-1.jsx-1506689133{background-size:300px 180px;}.stars-2.jsx-1506689133{background-size:350px 150px;}.stars-3.jsx-1506689133{background-size:400px 200px;}}","@media (max-width:480px){.main-title.jsx-1506689133{font-size:2.3rem;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;}.subtitle-text.jsx-1506689133{max-width:90vw;line-height:1.5;}.animated-image-container.jsx-1506689133{gap:60px;}.stars-1.jsx-1506689133{background-size:200px 120px;}.stars-2.jsx-1506689133{background-size:250px 100px;}.stars-3.jsx-1506689133{background-size:300px 150px;}}"]})]}):null},f=function(e){var t=e.duration,n=void 0===t?4e3:t,r=e.leftImage,s=e.rightImage,o=(0,i.useState)(!1),c=o[0],l=o[1],p=(0,i.useState)(!0),x=p[0],f=p[1];return((0,i.useEffect)(function(){var e=setTimeout(function(){l(!0)},300),t=setTimeout(function(){f(!1)},n-.1*n);return function(){clearTimeout(e),clearTimeout(t)}},[n]),x)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("link",{rel:"preload",as:"image",href:r,className:"jsx-2337125852"}),(0,u.jsx)("link",{rel:"preload",as:"image",href:s,className:"jsx-2337125852"}),(0,u.jsx)("div",{className:"jsx-2337125852 card-opening-overlay"}),(0,u.jsxs)("div",{className:"jsx-2337125852 "+"card-opening-container ".concat(c?"o":""),children:[(0,u.jsx)("div",{style:{"--a":"".concat(n,"ms"),"--b":'url("'.concat(r,'")'),"--c":'url("'.concat(s,'")')},className:"jsx-2337125852 card-opening-panel l"}),(0,u.jsx)("div",{style:{"--a":"".concat(n,"ms"),"--b":'url("'.concat(r,'")'),"--c":'url("'.concat(s,'")')},className:"jsx-2337125852 card-opening-panel r"})]}),(0,u.jsx)(a(),{id:"2337125852",children:[".card-opening-overlay.jsx-2337125852{position:fixed;inset:0;pointer-events:none;background:transparent;z-index:9999999;-webkit-transition:background 0.3s ease;transition:background 0.3s ease;}",".card-opening-container.jsx-2337125852{position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden;z-index:999999;}",".card-opening-panel.jsx-2337125852{position:absolute;top:0;left:0;width:100vw;height:100vh;background-size:cover;background-position:center;-webkit-transition:-webkit-transform var(--a) ease-in-out;-webkit-transition:transform var(--a) ease-in-out;transition:transform var(--a) ease-in-out;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;}",".card-opening-panel.l.jsx-2337125852{z-index:2;background-image:var(--b);}",".card-opening-panel.r.jsx-2337125852{z-index:1;background-image:var(--c);}",".card-opening-container.o.jsx-2337125852 .l.jsx-2337125852{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}",".card-opening-container.o.jsx-2337125852 .r.jsx-2337125852{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}"]})]}):null},d=function(e){var t=e.openingEffect;if(!t)return null;var n=t.id,r=t.type,a=t.duration,i=t.title,s=t.subtitle,o=t.imageUrl,c="".concat(p.A.CDN_URL,"/assets/opening-effects/").concat(n,"-left.webp"),l="".concat(p.A.CDN_URL,"/assets/opening-effects/").concat(n,"-right.webp"),d=1e3*a||4e3;return"animated-image"===r?(0,u.jsx)(x,{duration:d,imageUrl:o,title:i,subtitle:s}):"curtain"===r?(0,u.jsx)(f,{duration:d,leftImage:c,rightImage:l}):null};var m=n(11084),g=n(63857),b=n(43081),h=n.n(b),v=n(733),w=n(45382),k=n(18879),j=n(89099),y=n(91040),A=function(){var e=(0,g.A)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.get("".concat(p.A.API_URL,"/showcase/messages/").concat(t));case 3:return n=e.sent,e.abrupt("return",{success:!0,messages:n.data.messages||[]});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching showcase messages:",e.t0),e.abrupt("return",{success:!1,messages:[]});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,g.A)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.get("".concat(p.A.API_URL,"/showcase/gifts/received/").concat(t));case 3:return n=e.sent,e.abrupt("return",{success:!0,gifts:n.data.gifts||[]});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching showcase gifts:",e.t0),e.abrupt("return",{success:!1,gifts:[]});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,g.A)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.get("".concat(p.A.API_URL,"/showcase/pages/").concat(t,"/likes"));case 3:return n=e.sent,e.abrupt("return",{success:!0,likes:n.data.likes||0});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching showcase likes:",e.t0),e.abrupt("return",{success:!1,likes:0});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();let E=function(e){var t=e.templateCategoryId,n=e.isTemplatePreview,r=e.pageId,s=(0,j.useRouter)(),o=(0,v.eC)(function(e){return e.messageData}),c=(0,v.eC)(function(e){return e.setMessageData}),l=(0,i.useRef)([]),p=(0,i.useRef)([]),x=(0,i.useRef)(0),f=s.pathname.startsWith("/showcase"),d=(0,i.useState)(!1),m=d[0],b=d[1],y=(0,i.useState)(!1),N=y[0],z=y[1];return(0,i.useEffect)(function(){var e;(e=(0,g.A)(h().mark(function e(){var a,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a={messages:[]},!n){e.next=6;break}a=(0,k.AP)(t),e.next=16;break;case 6:if(!f){e.next=13;break}return i=s.query.page_id,e.next=10,A(i);case 10:a=e.sent,e.next=16;break;case 13:return e.next=15,(0,w.lj)(r);case 15:a=e.sent;case 16:setTimeout(function(){c(a.messages)},1e3),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Failed to fetch messages:",e.t0);case 22:case"end":return e.stop()}},e,null,[[0,19]])})),function(){return e.apply(this,arguments)})()},[c]),(0,i.useEffect)(function(){if(o.length>0){var e=0,t=[];setTimeout(function(){l.current.forEach(function(n,r){if(n){var a=n.getBoundingClientRect().height;t[r]=e,e=e+a+7,n.style.top=e+"px"}}),p.current=t,x.current=e,z(!0)},100)}},[o]),(0,i.useEffect)(function(){var e,t=function(){if(m||0===p.current.length){e=requestAnimationFrame(t);return}p.current=p.current.map(function(e,t){var n=l.current[t];if(!n)return e;var r=n.getBoundingClientRect().height;return(e-=.5)<-r&&(e=Math.max(x.current,180)-r),n.style.top=e+"px",n.style.opacity=e<-r/3?(e/r).toFixed(2):1,e}),e=requestAnimationFrame(t)};return o.length>0&&p.current.length>0?e=requestAnimationFrame(t):setTimeout(function(){p.current.length>0&&(e=requestAnimationFrame(t))},200),function(){e&&cancelAnimationFrame(e)}},[m,o]),(0,u.jsxs)("div",{id:"blessing-box",onMouseEnter:function(){b(!0)},onMouseLeave:function(){b(!1)},onTouchStart:function(){b(!0)},onTouchEnd:function(){b(!1)},style:{opacity:+!!N},className:"jsx-3895218497",children:[o.map(function(e,t){return(0,u.jsx)("div",{ref:function(e){e&&(l.current[t]=e)},className:"jsx-3895218497 blessing-message",children:(0,u.jsxs)("span",{className:"jsx-3895218497 blessing-text",children:[(0,u.jsx)("strong",{className:"jsx-3895218497",children:e.senderName}),": ",e.content]})},t)}),(0,u.jsx)(a(),{id:"3895218497",children:["#blessing-box.jsx-3895218497{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;z-index:1000;height:180px;position:absolute;width:285px;bottom:58px;left:16px;-webkit-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;pointer-events:none;}",".blessing-message.jsx-3895218497{font-size:11px;color:white;position:absolute;min-height:28px;line-height:14px;margin:3px 0;border-radius:7px;padding:2px 10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-align:left;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:rgba(225,117,117,0.5);-webkit-transition:opacity 0.5s ease-out;transition:opacity 0.5s ease-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;}"]})]})},I={src:"/_next/static/media/message.24f9a1e2.png"},S=function(e){var t=e.showComments,n=(0,v.OJ)(function(e){return e.setVisiblePopup});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"jsx-831523885 toolbar-left",children:t&&(0,u.jsxs)("div",{onClick:function(){return n(!0)},className:"jsx-831523885 message-box-button",children:[(0,u.jsx)("span",{style:{display:"inline-block",width:"calc(100% - 24px)"},className:"jsx-831523885",children:"Gửi lời ch\xfac..."}),(0,u.jsx)("img",{style:{height:24,verticalAlign:"middle"},src:I.src,className:"jsx-831523885"})]})}),(0,u.jsx)(a(),{id:"831523885",children:[".message-box-button.jsx-831523885{background:rgba(0,0,0,0.2);padding:0px 7px 0px 15px;box-sizing:border-box;color:white;border-radius:30px;font-size:13px;width:150px;height:39px;line-height:39px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]})]})},C={src:"/_next/static/media/like.ea5798c7.png"},P={src:"/_next/static/media/gift-box.f417ec86.png"};var Y=n(78820),T=n(73301),X=n(81495),L="biubiu";let _=function(e){var t,n=e.showBottomToolbar,r=e.pageData,s=(0,j.useRouter)(),o=(0,v.bi)().pageId,c=(0,i.useState)(!1),x=c[0],f=c[1],d=(0,i.useState)(0),m=d[0],b=d[1],w=(0,i.useState)(!1),k=w[0],y=w[1],A=(0,i.useState)(!1),N=(A[0],A[1]),E="".concat(p.A.CDN_URL,"/gifts/thumb/").concat(L,".png"),I=(0,v.Uh)(function(e){return e.showGiftList}),S=(0,v.Uh)(function(e){return e.selectGiftItem}),_=(0,v.Uh)(function(e){return e.showAnimationPreview}),U=s.pathname.startsWith("/showcase");(0,i.useEffect)(function(){N(!!JSON.parse(localStorage.getItem("likedPages")||"{}")[o]);var e,t=(e=(0,g.A)(h().mark(function e(){var t,n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={likes:0},!U){e.next=9;break}return n=s.query.page_id,e.next=6,z(n);case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,(0,Y.Lh)(o);case 11:t=e.sent;case 12:b(t.likes),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching likes:",e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])})),function(){return e.apply(this,arguments)});o&&t()},[o]);var O=(t=(0,g.A)(h().mark(function e(){var t;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:if(!U){e.next=5;break}return T.Ay.info("Bạn kh\xf4ng thể like trong chế độ xem mẫu"),e.abrupt("return");case 5:if(!(t=JSON.parse(localStorage.getItem("likedPages")||"{}"))[o]){e.next=12;break}return f(!0),y(!0),T.Ay.info({content:"Bạn đ\xe3 like rồi!\nH\xe3y thử gửi qu\xe0 hoặc để lại lời ch\xfac nha! \uD83C\uDF81",style:{whiteSpace:"pre-line"}}),setTimeout(function(){f(!1),y(!1)},1e3),e.abrupt("return");case 12:return y(!0),f(!0),e.prev=14,e.next=17,(0,Y.$W)(o);case 17:b(e.sent.likes),t[o]=!0,localStorage.setItem("likedPages",JSON.stringify(t)),N(!0),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),console.error("Error updating likes:",e.t0);case 27:return e.prev=27,y(!1),setTimeout(function(){f(!1)},1e3),e.finish(27);case 31:case"end":return e.stop()}},e,null,[[14,24,27,31]])})),function(){return t.apply(this,arguments)}),R=(0,l.PV)(n,X.fu.GIFTS),G=(0,l.PV)(n,X.fu.LIKES),F=(0,l.PV)(n,X.fu.QR_CODE),B=(null==r?void 0:r.qrBankAccounts)||[];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:a().dynamic([["807274309",[P.src,C.src]]])+" toolbar-right",children:[R&&(0,u.jsxs)("div",{id:"animation-gift-preview-btn",onClick:function(){S(L),I(),_()},className:a().dynamic([["807274309",[P.src,C.src]]]),children:[(0,u.jsx)("img",{src:E,className:a().dynamic([["807274309",[P.src,C.src]]])}),(0,u.jsx)("span",{className:a().dynamic([["807274309",[P.src,C.src]]]),children:"Bắn tim"})]}),(R||F&&B.length>0)&&(0,u.jsx)("div",{id:"cinelove-gift-button",onClick:I,className:a().dynamic([["807274309",[P.src,C.src]]])}),G&&(0,u.jsx)("div",{id:"cinelove-like-button",onClick:O,className:a().dynamic([["807274309",[P.src,C.src]]])+" "+"like-button ".concat(x?"shake":""),children:m>0&&(0,u.jsx)("div",{id:"cinelove-like-count",className:a().dynamic([["807274309",[P.src,C.src]]]),children:m>=1e3?"999+":m.toString()})})]}),(0,u.jsx)(a(),{id:"807274309",dynamic:[P.src,C.src],children:[".toolbar-right{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:10px;}",'#cinelove-gift-button{background-image:url("'.concat(P.src,'");background-size:100%;background-repeat:no-repeat;-webkit-animation:6s ease 0s infinite normal none running bounceGift;animation:6s ease 0s infinite normal none running bounceGift;width:39px;height:39px;cursor:pointer;}'),'#cinelove-like-button{background-image:url("'.concat(C.src,'");background-repeat:no-repeat;background-size:100%;width:39px;height:39px;position:relative;cursor:pointer;}'),"#cinelove-like-count{opacity:1;border-radius:17px;width:17px;height:17px;line-height:17px;color:white;font-size:8px;position:absolute;right:-4px;top:-4px;background:-webkit-linear-gradient(#ff9aa6,#ff4969);text-align:center;}","@-webkit-keyframes bounceGift{0%{-webkit-transform:translateY(0px);}8%{-webkit-transform:translateY(-10px);}13%{-webkit-transform:translateY(0px);}16%{-webkit-transform:translateY(-5px);}19%{-webkit-transform:translateY(0px);}22%{-webkit-transform:translateY(-2px);}25%{-webkit-transform:translateY(0px);}100%{-webkit-transform:translateY(0px);}}","#animation-gift-preview-btn{background:rgba(0,0,0,0.2);padding:0px 10px;box-sizing:border-box;color:white;border-radius:30px;font-size:14px;height:39px;line-height:39px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;}","#animation-gift-preview-btn img{height:30px;vertical-align:middle;}","#animation-gift-preview-btn span{display:inline-block;font-size:13px;margin-left:5px;white-space:nowrap;}",".shake{-webkit-animation:shake 0.1s 3;}","@-webkit-keyframes shake{0%{-webkit-transform:scale(1);}30%{-webkit-transform:scale(1.3);}100%{-webkit-transform:scale(1);}}"]})]})},U=function(e){var t=e.showBottomToolbar,n=e.pageData;if(!("object"==typeof t?t.enabled:t))return null;var r=(0,l.PV)(t,X.fu.COMMENTS);return(0,u.jsxs)("div",{id:"cinelove-toolbar",className:"jsx-1401461546",children:[(0,u.jsxs)("div",{className:"jsx-1401461546 toolbar",children:[(0,u.jsx)(S,{showComments:r}),(0,u.jsx)(_,{showBottomToolbar:t,pageData:n})]}),(0,u.jsx)(a(),{id:"1401461546",children:["#cinelove-toolbar.jsx-1401461546{position:absolute;left:0;bottom:0;z-index:1000;width:100%;height:64px;box-sizing:border-box;}","#cinelove-toolbar.jsx-1401461546 .toolbar.jsx-1401461546{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;width:100%;height:100%;padding:0.5rem;}"]})]})};var O=n(11854);let R=function(e){var t=e.children,n=(0,i.useRef)(null),r=(0,i.useRef)(null),s=(0,v.OJ)(function(e){return e.isVisible}),o=(0,v.OJ)(function(e){return e.setVisiblePopup});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(O.A,{nodeRef:n,in:s,timeout:300,classNames:"fade",unmountOnExit:!0,children:(0,u.jsx)("div",{ref:n,onClick:function(){return o(!1)},className:"jsx-831600802 popup-backdrop"})}),(0,u.jsx)(O.A,{nodeRef:r,in:s,timeout:200,classNames:"slideInBtm",unmountOnExit:!0,children:(0,u.jsx)("div",{id:"blessing-box-popup",ref:r,className:"jsx-831600802 popup-wrapper",children:t})}),(0,u.jsx)(a(),{id:"831600802",children:[".popup-wrapper.jsx-831600802{width:100%;min-height:20rem;background-color:#fff;border-radius:0.5rem 0.5rem 0 0;box-sizing:border-box;position:absolute;bottom:0;left:0;z-index:9999999;}",".popup-backdrop.jsx-831600802{position:fixed;left:0;top:0;right:0;bottom:0;z-index:9999997;background:rgba(0,0,0,0.4);}",".slideInBtm-enter.jsx-831600802{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);}",".slideInBtm-enter-active.jsx-831600802{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform 0.3s ease-in-out;-webkit-transition:transform 0.3s ease-in-out;transition:transform 0.3s ease-in-out;}",".slideInBtm-exit.jsx-831600802{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}",".slideInBtm-exit-active.jsx-831600802{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);-webkit-transition:-webkit-transform 0.3s ease-in-out;-webkit-transition:transform 0.3s ease-in-out;transition:transform 0.3s ease-in-out;}",".fade-enter.jsx-831600802{opacity:0;}",".fade-enter-active.jsx-831600802{opacity:1;-webkit-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;}",".fade-exit.jsx-831600802{opacity:1;}",".fade-exit-active.jsx-831600802{opacity:0;-webkit-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;}"]})]})},G={src:"/_next/static/media/message-heart.9f3f7935.png"};var F=n(42969);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let D=function(e){var t=e.children,n=e.label,r=e.onClick,i=e.rounded,s=e.disabled,o=void 0!==s&&s,c=e.loading,l=void 0!==c&&c,p=e.style;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{onClick:r,disabled:o||l,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){(0,F.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p),className:"jsx-120244559 "+"cinelove-btn ".concat(i?"rounded":""," ").concat(o||l?"disabled":""),children:[l?(0,u.jsx)("span",{className:"jsx-120244559 spinner"}):null,t||n]}),(0,u.jsx)(a(),{id:"120244559",children:[".cinelove-btn.jsx-120244559{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:100px;gap:5px;height:46px;background:#ed5566;color:#fff;border:none;cursor:pointer;padding:0.5rem 1rem;font-size:1rem;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;}",".cinelove-btn.rounded.jsx-120244559{border-radius:40px;}",".cinelove-btn.small.jsx-120244559{padding:0.3rem 0.6rem;font-size:0.8rem;}",".cinelove-btn.large.jsx-120244559{padding:0.8rem 1.5rem;font-size:1.2rem;}",".cinelove-btn.primary.jsx-120244559{background-color:#007bff;color:#fff;}",".cinelove-btn.primary.jsx-120244559:hover{background-color:#0056b3;}",".cinelove-btn.secondary.jsx-120244559{background-color:#6c757d;color:#fff;}",".cinelove-btn.secondary.jsx-120244559:hover{background-color:#5a6268;}",".cinelove-btn.success.jsx-120244559{background-color:#28a745;color:#fff;}",".cinelove-btn.success.jsx-120244559:hover{background-color:#218838;}",".cinelove-btn.disabled.jsx-120244559{cursor:not-allowed;opacity:0.7;pointer-events:none;}",".spinner.jsx-120244559{border:3px solid rgba(255,255,255,0.3);border-top:3px solid white;border-radius:50%;width:16px;height:16px;-webkit-animation:spin-jsx-120244559 1s linear infinite;animation:spin-jsx-120244559 1s linear infinite;display:inline-block;}","@-webkit-keyframes spin-jsx-120244559{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes spin-jsx-120244559{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".custom-button.loading.jsx-120244559{cursor:not-allowed;pointer-events:none;}"]})]})};var V=n(51118);let M=function(e){var t,n=e.isTemplatePreview,r=e.pageId,s=(0,j.useRouter)().pathname.startsWith("/showcase"),o=(0,v.OJ)(function(e){return e.setVisiblePopup});(0,v.hS)(function(e){return e.setVisibleModal});var c=(0,v.eC)(function(e){return e.setMessageData}),l=(0,i.useState)(!1),p=l[0],x=l[1],f=(0,i.useState)(""),d=f[0],m=f[1],b=(0,i.useState)(""),k=b[0],y=b[1],A=(t=(0,g.A)(h().mark(function e(){var t,a;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n||s)){e.next=3;break}return T.Ay.info("Kh\xf4ng thể gửi lời ch\xfac trong chế độ xem mẫu!"),e.abrupt("return");case 3:if(!(!d||!k)){e.next=6;break}return T.Ay.info("Vui l\xf2ng nhập đầy đủ th\xf4ng tin!"),e.abrupt("return");case 6:if((t=(0,V.pH)(d,k)).isValid){e.next=10;break}return T.Ay.warning(t.errorMessage||"Nội dung kh\xf4ng hợp lệ!"),e.abrupt("return");case 10:return e.prev=10,x(!0),a={pageId:r,senderName:d,content:k,userId:"anonymous"},e.next=15,(0,w.tj)(a);case 15:e.sent.success&&(c([a]),m(""),y(""),o(!1),T.Ay.success("Gửi lời ch\xfac th\xe0nh c\xf4ng!")),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(10),console.error("Failed to send message:",e.t0),T.Ay.error("Kh\xf4ng thể gửi tin nhắn. Vui l\xf2ng thử lại sau!");case 23:return e.prev=23,x(!1),e.finish(23);case 26:case"end":return e.stop()}},e,null,[[10,19,23,26]])})),function(){return t.apply(this,arguments)});return(0,u.jsxs)(R,{children:[(0,u.jsxs)("div",{className:"jsx-3319829800 bar-messwin",children:[(0,u.jsx)("img",{src:G.src,alt:"message heart",className:"jsx-3319829800 danmu-logo"}),(0,u.jsx)("span",{onClick:function(){return o(!1)},className:"jsx-3319829800 iconfont icon-guanbi cursor-pointer",children:"x"}),(0,u.jsx)("div",{className:"jsx-3319829800 bar-m-tit",children:"Lời ch\xfac"}),(0,u.jsxs)("div",{className:"jsx-3319829800 bar-m-cont",children:[(0,u.jsx)("div",{className:"jsx-3319829800 bar-m-info",children:(0,u.jsx)("input",{type:"text",maxLength:25,placeholder:"T\xean của bạn",value:d,onChange:function(e){return m(e.target.value)},className:"jsx-3319829800 bar-m-com bar-m-name"})}),(0,u.jsx)("div",{className:"jsx-3319829800 bar-m-info",children:(0,u.jsx)("textarea",{placeholder:"Lời ch\xfac của bạn",value:k,onChange:function(e){return y(e.target.value)},className:"jsx-3319829800 bar-m-com bar-m-mess"})})]}),(0,u.jsx)(D,{rounded:!0,onClick:A,loading:p,style:{marginTop:25,width:"90%"},children:"Gửi Lời Ch\xfac"})]}),(0,u.jsx)(a(),{id:"3319829800",children:[".bar-messwin.jsx-3319829800{width:100%;min-height:370px;position:relative;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;box-sizing:border-box;background-color:#fff;border-radius:10px;background:radial-gradient( 328px at 2.9% 15%, rgb(255 226 226) 0%, rgb(255 255 255) 25.8%, rgb(255 255 255) 50.8%, rgb(255 255 255) 77.6%, rgb(255 246 246) 100.7% );}",".bar-messwin.jsx-3319829800 input.jsx-3319829800,.bar-messwin.jsx-3319829800 textarea.jsx-3319829800{background:transparent;}",".bar-messwin.jsx-3319829800 .danmu-logo.jsx-3319829800{position:absolute;width:140px;height:66px;top:-21px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}",".bar-messwin.jsx-3319829800 .bar-m-tit.jsx-3319829800{margin-top:57px;font-size:21px;font-weight:600;color:#333;z-index:1;}",".bar-messwin.jsx-3319829800 .icon-guanbi.jsx-3319829800{position:absolute;right:15px;top:6px;font-size:24px;color:#999;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800{z-index:1;width:90%;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800{display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800:first-child{margin-top:25px;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800:nth-child(2){margin-top:14px;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800 .bar-m-com.jsx-3319829800{width:100%;color:#333;border:1px solid rgba(237,85,102,0.4);border-radius:9px;font-size:16px;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800 .bar-m-com.jsx-3319829800:focus{box-shadow:0 0 0 1px rgba(237,85,102,0.4);}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800 .bar-m-com.jsx-3319829800::-webkit-input-placeholder{color:#b2b2b2;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800 .bar-m-com.jsx-3319829800:focus-visible{outline:none;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800 .bar-m-name.jsx-3319829800{padding:0 10px;height:50px;}",".bar-messwin.jsx-3319829800 .bar-m-cont.jsx-3319829800 .bar-m-info.jsx-3319829800 .bar-m-mess.jsx-3319829800{padding:9px 14px;height:92px;}",".bar-messwin.jsx-3319829800 .bar-m-sub.jsx-3319829800{z-index:1;width:361px;height:46px;background:#ed5566;border-radius:73px;font-size:17px;color:#fff;margin-top:26px;border:none;}"]})]})};var q=n(27603),K=n(22612),Q=n(88051);let W=function(e){var t,n,r=e.currentGift;if(!r)return(0,u.jsx)(u.Fragment,{});var s=(0,v.Uh)(function(e){return e.selectedGift}),o=(0,v.Uh)(function(e){return e.isGiftListVisible}),c=(0,i.useRef)(null),l=(0,i.useState)(!1),p=l[0],x=l[1],f=(0,Q.y)(r.giftCode),d=f.binUrl,m=f.thumbUrl,b=f.bgUrl,w=f.title,k=(0,v.k4)(function(e){return e.receivedGiftList}),j=(0,v.k4)(function(e){return e.currentIndex}),y=(0,v.k4)(function(e){return e.setCurrentIndex}),A=(0,i.useState)(!1),N=A[0],z=A[1],E=function(){if(null!=j){if(j+1>=k.length)return void y(null);y(j+1)}},I=(t=(0,g.A)(h().mark(function e(){var t,n,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d){e.next=3;break}return e.abrupt("return");case 3:return x(!0),c.current&&(c.current.stop(),c.current.clear(),c.current=null),t=new q.Parser,e.next=8,t.load(d);case 8:return n=e.sent,r=new q.Player({container:document.getElementById("cinelove-canvas"),loop:2}),e.next=12,r.mount(n);case 12:c.current=r,r.onEnd=function(){z(!0),setTimeout(function(){x(!1),z(!1),E()},500)},r.start(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0,"---error---");case 20:case"end":return e.stop()}},e,null,[[0,17]])})),function(){return t.apply(this,arguments)});return(0,i.useEffect)(function(){return r&&setTimeout(function(){I()},7e3),function(){c.current&&(c.current.stop(),c.current.clear())}},[r]),(0,i.useEffect)(function(){s||o?c.current&&c.current.pause():!o&&c.current&&c.current.resume()},[s,o]),(0,u.jsxs)(u.Fragment,{children:[p&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"jsx-3944061065 "+"animate-slide-gift ".concat(N?"exit":""),children:[(0,u.jsx)("img",{src:b,alt:"slide animation",className:"jsx-3944061065 animate-slide-gift-img"}),(0,u.jsxs)("div",{className:"jsx-3944061065 s-message",children:[(0,u.jsx)("div",{className:"jsx-3944061065 s-head",children:(0,u.jsx)("img",{src:r.senderAvatar||"https://cdn.cinelove.me/samples/avatar/imageedit_6_7060799572.jpg",alt:"s-avatar",className:"jsx-3944061065"})}),(0,u.jsxs)("div",{className:"jsx-3944061065 s-content",children:[(0,u.jsx)("div",{className:"jsx-3944061065 s-name",children:r.senderName}),(0,u.jsx)("div",{className:"jsx-3944061065 s-gift",children:null!=(n=r.content)?n:"gửi ".concat(w)})]}),(0,u.jsx)("img",{src:K.A.src,alt:"animation background",className:"jsx-3944061065 animate-highlight-effect"})]}),(0,u.jsx)("img",{src:m,alt:"animation thumb",className:"jsx-3944061065 s-gift-img"})]}),r.giftMessage&&(0,u.jsx)("div",{className:"jsx-3944061065 s-gift-message",children:r.giftMessage})]}),(0,u.jsx)(a(),{id:"3944061065",children:[".animate-slide-gift{position:absolute;top:-60px;left:14px;z-index:1000;-webkit-animation:giftSlideInLeft linear 7s both;animation:giftSlideInLeft linear 7s both;}",".animate-slide-gift.exit{-webkit-animation:giftSlideOutRight 0.5s ease-out forwards;animation:giftSlideOutRight 0.5s ease-out forwards;}",".animate-slide-gift,.animate-slide-gift .animate-slide-gift-img{width:210px;height:48px;}",".animate-slide-gift .s-message{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;overflow:hidden;border-radius:48px;}",".animate-slide-gift .s-message .s-head{width:37px;height:37px;border-radius:50%;border:1px solid hsla(0,0%,100%,0.5);margin-left:6px;overflow:hidden;}",".animate-slide-gift .s-message .s-head img{width:100%;height:100%;}",".animate-slide-gift .s-message .s-content{margin-left:6px;}",".animate-slide-gift .s-message .s-name{font-size:14px;font-weight:700;color:#fff;text-align:left;}",".animate-slide-gift .s-message .s-gift{font-size:11px;font-weight:700;color:#fff;text-align:left;}",".animate-slide-gift .s-message .animate-highlight-effect{width:150px;height:48px;position:absolute;top:0;-webkit-animation:around 1.5s linear infinite alternate;animation:around 1.5s linear infinite alternate;}",".animate-slide-gift .s-gift-img{width:73px;height:73px;position:absolute;top:-17px;right:-7px;}","@-webkit-keyframes around{0%{left:-120px;}to{left:239px;}}","@keyframes around{0%{left:-120px;}to{left:239px;}}","@-webkit-keyframes giftSlideInLeft{0%{-webkit-transform:translateX(-400px);-ms-transform:translateX(-400px);transform:translateX(-400px);opacity:1;}10%,90%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}100%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}}","@-webkit-keyframes giftSlideOutRight{from{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}to{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translateX(400px);opacity:0;}}","@keyframes giftSlideOutRight{from{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}to{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translateX(400px);opacity:0;}}",".s-gift-message{position:absolute;top:-160px;left:50%;-webkit-transform:translateX(-50%) translateY(15px);-ms-transform:translateX(-50%) translateY(15px);transform:translateX(-50%) translateY(15px);z-index:1000;padding:0 20px;width:100%;text-align:center;font-size:16px;font-weight:500;color:#fff;-webkit-letter-spacing:0.3px;-moz-letter-spacing:0.3px;-ms-letter-spacing:0.3px;letter-spacing:0.3px;line-height:1.5;-webkit-animation:messageAppear 1s ease-out forwards;animation:messageAppear 1s ease-out forwards;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);-webkit-text-stroke:0.5px #000;}","@-webkit-keyframes messageAppear{from{opacity:0;-webkit-transform:translateX(-50%) translateY(30px);-ms-transform:translateX(-50%) translateY(30px);transform:translateX(-50%) translateY(30px);}to{opacity:1;-webkit-transform:translateX(-50%) translateY(15px);-ms-transform:translateX(-50%) translateY(15px);transform:translateX(-50%) translateY(15px);}}","@keyframes messageAppear{from{opacity:0;-webkit-transform:translateX(-50%) translateY(30px);-ms-transform:translateX(-50%) translateY(30px);transform:translateX(-50%) translateY(30px);}to{opacity:1;-webkit-transform:translateX(-50%) translateY(15px);-ms-transform:translateX(-50%) translateY(15px);transform:translateX(-50%) translateY(15px);}}"]})]})},H=function(e){var t=e.currentGift,n=(0,v.k4)(function(e){return e.receivedGiftList}),r=(0,v.k4)(function(e){return e.currentIndex}),s=(0,v.k4)(function(e){return e.setCurrentIndex}),o=function(){if(null!=r){if(r+1>=n.length)return void s(null);s(r+1)}};(0,i.useEffect)(function(){setTimeout(function(){o()},6e3)},[]);var c=t.avatar,l=t.senderName,p=t.content,x=t.giftPic;return(0,u.jsxs)("div",{className:"jsx-4181796296 minigift-display-wrapper",children:[(0,u.jsx)("div",{className:"jsx-4181796296 minigift-slide",children:(0,u.jsxs)("div",{className:"jsx-4181796296 minigift-slide-info",children:[(0,u.jsx)("div",{className:"jsx-4181796296 gift-giver-avatar",children:(0,u.jsx)("img",{src:c,alt:"gift giver avatar",className:"jsx-4181796296"})}),(0,u.jsxs)("div",{className:"jsx-4181796296 minigift-content",children:[(0,u.jsx)("strong",{className:"jsx-4181796296",children:l}),(0,u.jsx)("br",{className:"jsx-4181796296"}),(0,u.jsx)("span",{className:"jsx-4181796296",children:p})]}),(0,u.jsx)("div",{className:"jsx-4181796296 minigift-thumb-wrapper",children:(0,u.jsx)("img",{src:x,alt:"mini gift thumb",className:"jsx-4181796296 minigift-thumb"})})]})}),(0,u.jsx)(a(),{id:"4181796296",children:[".minigift-display-wrapper{position:absolute;border-radius:50px;top:-60px;left:14px;z-index:2;display:block;}",".minigift-content{text-align:left;margin-left:10px;}",".minigift-thumb-wrapper{min-width:70px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".minigift-slide{background:-webkit-linear-gradient( rgba(225,117,117,0.8), rgba(225,117,117,0.5) );border-radius:50px;-webkit-animation:giftSlideInLeft linear 6.5s both;color:black;}",".gift-giver-avatar{width:28px;height:28px;border:2px solid #e8c480;border-radius:50%;margin-left:5px;}",".gift-giver-avatar img{width:24px;border-radius:50%;border:2px solid white;}",".minigift-slide-info{color:white;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:2px 0;}",".minigift-thumb{height:42px;margin-left:8px;}","@-webkit-keyframes giftSlideInLeft{0%{-webkit-transform:translateX(-400px);-ms-transform:translateX(-400px);transform:translateX(-400px);opacity:1;}10%,90%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}100%{opacity:0;}}"]})]})},J=function(e){var t=e.currentGift;return"animated"===t.giftType?(0,u.jsx)(W,{currentGift:t}):(0,u.jsx)(H,{currentGift:t})},Z=function(e){var t=e.isTemplatePreview,n=e.pageId,r=(0,j.useRouter)(),s=(0,v.k4)(function(e){return e.receivedGiftList}),o=(0,v.k4)(function(e){return e.setReceivedGiftList}),l=(0,v.k4)(function(e){return e.currentIndex}),p=(0,c.j)(function(e){return e.gifts}),x=s[l],f=r.pathname.startsWith("/showcase");return(0,i.useEffect)(function(){var e;(e=(0,g.A)(h().mark(function e(){var a,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a={gifts:[]},!t){e.next=5;break}e.next=15;break;case 5:if(!f){e.next=12;break}return i=r.query.page_id,e.next=9,N(i);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,(0,w.Pm)(n);case 14:a=e.sent;case 15:o(a.gifts),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Failed to fetch received gifts:",e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])})),function(){return e.apply(this,arguments)})()},[p]),(0,u.jsxs)("div",{className:"jsx-2770182321 received-gifts-wrapper",children:[x&&(0,u.jsx)(J,{currentGift:x}),(0,u.jsx)(a(),{id:"2770182321",children:[".received-gifts-wrapper.jsx-2770182321{position:absolute;z-index:9999999;bottom:250px;display:block;width:100%;}"]})]})},$=function(e){var t=e.isTemplatePreview,n=(0,j.useRouter)(),r=(0,v.bi)().pageId,s=n.pathname.startsWith("/showcase"),o=(0,i.useState)(""),l=o[0],p=o[1],x=(0,v.Uh)(function(e){return e.selectedGift}),f=(0,v.yh)(function(e){return e.setCheckoutGift}),d=(0,c.j)(function(e){return e.giftsMap}),m=(0,i.useRef)(null);return(0,u.jsxs)("div",{className:"jsx-421572743 give-username",children:[(0,u.jsx)("div",{className:"jsx-421572743 gift_input",children:(0,u.jsx)("input",{type:"text",ref:m,placeholder:"T\xean của bạn",value:l,onChange:function(e){return p(e.target.value)},className:"jsx-421572743"})}),(0,u.jsx)(D,{onClick:function(){if(t||s)return void T.Ay.info("Kh\xf4ng thể gửi qu\xe0 trong chế độ xem mẫu");if(!l){var e;T.Ay.error("Vui l\xf2ng nhập t\xean của bạn"),null==(e=m.current)||e.focus();return}if(!x)return void T.Ay.error("Vui l\xf2ng chọn qu\xe0 tặng");var a=d[x];f({pageId:r,giftCode:x,senderName:l,amount:a.price}),n.push("/checkout?pageId=".concat(r,"&giftCode=").concat(x,"&senderName=").concat(l))},rounded:!0,style:{height:40,fontSize:14},children:"Gửi"}),(0,u.jsx)(a(),{id:"421572743",children:[".give-username.jsx-421572743{margin-top:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:10px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".gift_input.jsx-421572743{background:white;height:40px;font-size:14px;width:200px;box-sizing:border-box;}",".give-username.jsx-421572743 input.jsx-421572743{text-align:center;background:none;color:black;border:1px solid #ff4969;height:40px;background:#f7f8f9;font-size:14px;border-radius:30px;width:100%;outline:none;box-sizing:border-box;}"]})]})},ee=function(e){var t=e.isTemplatePreview,n=e.ownerName;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"jsx-1325603853 gift-give-foot",children:[(0,u.jsxs)("div",{className:"jsx-1325603853 give-tip",children:["H\xe3y để những m\xf3n qu\xe0 xinh đẹp n\xe0y mang niềm vui bất ngờ đến với ",n||"người nhận"," nha"]}),(0,u.jsx)($,{isTemplatePreview:t})]}),(0,u.jsx)(a(),{id:"1325603853",children:[".gift-give-foot.jsx-1325603853{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:10px;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;box-shadow:0 -0.3rem 0.8rem 0 rgba(0,0,0,0.08);border-radius:0.6rem 0.6rem 0 0;}",".gift-give-foot.jsx-1325603853 .give-tip.jsx-1325603853{font-size:12px;color:#999;margin-top:8px;text-align:center;}"]})]})};var et=n(1440),en=n(17605);let er=function(e){var t=e.isTemplatePreview,n=e.ownerName,r=(0,c.j)(),s=r.gifts,o=r.isLoading,l=r.error,p=r.giftsMap,x=(0,v.Uh)(function(e){return e.selectedGift}),f=(0,v.Uh)(function(e){return e.selectGiftItem}),d=(0,v.Uh)(function(e){return e.showAnimationPreview}),m=function(e,t){f(e),d(),(0,w._R)(t)};return((0,i.useEffect)(function(){if(x&&s.length>0){var e=p[x];if(e){var t=document.querySelector('[data-index="'.concat(e.id,'"]')),n=document.querySelector(".bar-gift-list");if(t&&n){var r=t.getBoundingClientRect(),a=n.getBoundingClientRect(),i=r.top-a.top-(a.height-r.height)/2;n.scrollTo({top:n.scrollTop+i,behavior:"smooth"})}}}},[x,s,p]),o)?(0,u.jsx)("div",{className:"flex justify-center items-center h-250",children:(0,u.jsx)(et.A,{tip:"Loading gifts..."})}):l?(0,u.jsx)("div",{className:"flex justify-center items-center h-250",children:(0,u.jsx)("p",{className:"text-red-500",children:l})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"jsx-1141894185 bar-gift-box",children:(0,u.jsx)("div",{className:"jsx-1141894185 bar-gift-list",children:(0,u.jsx)("div",{className:"jsx-1141894185 gift-ul",children:s.map(function(e){var t=e.id,n=e.code,r=e.title,a=e.price;return(0,u.jsxs)("div",{"data-index":t,onClick:function(){return m(n,t)},className:"jsx-1141894185 "+"gift-li ".concat(x===n?"active":""),children:[(0,u.jsx)("img",{src:(0,k.xK)(n),alt:r,className:"jsx-1141894185 cursor-pointer"}),(0,u.jsx)("div",{className:"jsx-1141894185 title",children:r}),(0,u.jsxs)("div",{className:"jsx-1141894185 price",children:[a,(0,u.jsx)(en.A,{size:14})]})]},t)})})})}),(0,u.jsx)(ee,{isTemplatePreview:t,ownerName:n}),(0,u.jsx)(a(),{id:"1141894185",children:[".bar-gift-box.jsx-1141894185{position:relative;}",".bar-gift-list.jsx-1141894185{position:relative;height:250px;padding:5px 0 10px 0;overflow-y:scroll;overscroll-behavior:contain;}",".bar-gift-list.jsx-1141894185 .gift-ul.jsx-1141894185{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;display:grid;grid-template-columns:repeat(4,1fr);row-gap:3px;padding:0 15px;}",".bar-gift-list.jsx-1141894185 .gift-ul.jsx-1141894185 .gift-li.jsx-1141894185{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;position:relative;overflow:hidden;padding:3px;}",".bar-gift-list.jsx-1141894185 .gift-ul.jsx-1141894185 .gift-li.active.jsx-1141894185{background:#fff4f6;border-radius:10px;outline:1px solid #ed5566;}",".bar-gift-list.jsx-1141894185 .gift-ul.jsx-1141894185 .gift-li.jsx-1141894185>img.jsx-1141894185{width:4rem;height:4rem;}",".bar-gift-list.jsx-1141894185 .gift-ul.jsx-1141894185 .gift-li.jsx-1141894185 .title.jsx-1141894185{font-size:11px;color:#666;margin-top:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;width:80px;}",".bar-gift-list.jsx-1141894185 .gift-ul.jsx-1141894185 .gift-li.jsx-1141894185 .price.jsx-1141894185{font-size:0.6rem;color:#999;margin-top:0.15rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:2px;}"]})]})},ea={src:"/_next/static/media/bottom-arrow.54525818.png"},ei=function(e){var t=e.showQRBankTab,n=e.showGiftsTab,r=(0,v.Of)(function(e){return e.giftTypes}),s=(0,v.Of)(function(e){return e.currentGiftType}),o=(0,v.Of)(function(e){return e.setGiftType}),c=(0,v.Uh)(function(e){return e.setGiftCashMoney}),l=(0,v.Uh)(function(e){return e.selectGiftItem}),p=(0,v.Uh)(function(e){return e.hideAnimationPreview}),x=function(e){o(e),c(null),l(null),p()};return(0,i.useEffect)(function(){n&&t?o("gift"):t?o("bank"):n&&o("gift")},[n,t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"jsx-1202996737 select-type",children:r.map(function(e){return("bank"!==e.type||t)&&("gift"!==e.type||n)?(0,u.jsxs)("div",{onClick:function(){return x(e.type)},className:"jsx-1202996737 "+"option ".concat(s===e.type?"active":""),children:[e.title,(0,u.jsx)("img",{src:ea.src,alt:e.title,className:"jsx-1202996737"})]},e.type):null})}),(0,u.jsx)(a(),{id:"1202996737",children:[".select-type.jsx-1202996737,.select-type.jsx-1202996737 .option.jsx-1202996737{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".select-type.jsx-1202996737{width:100%;height:50px;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;padding-bottom:5px;}",".select-type.jsx-1202996737 .option.active.jsx-1202996737{font-size:20px;font-weight:700;color:#ed5566;}",".select-type.jsx-1202996737 .option.jsx-1202996737{height:2.4667rem;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:18px;color:#999;position:relative;-webkit-transition:all 0.1s ease;transition:all 0.1s ease;}",".select-type.jsx-1202996737 .option.active.jsx-1202996737 img.jsx-1202996737{display:block;}",".select-type.jsx-1202996737 .option.jsx-1202996737 img.jsx-1202996737{width:20px;position:absolute;bottom:-6px;display:none;}"]})]})},es=function(e){var t=e.selectedGift,n=(0,Q.y)(t),r=n.title,i=n.thumbUrl,s=n.bgUrl,o=(0,v.en)(function(e){return e.isExiting}),c=(0,v.Uh)(function(e){return e.giftCashMoney}),l=(0,v.Of)(function(e){return e.currentGiftType});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"jsx-2499532456 "+"animate-slide-gift gift-minibar ".concat(o?"exit":""),children:[(0,u.jsx)("img",{src:s,alt:"slide animation",className:"jsx-2499532456 animate-slide-gift-img"}),(0,u.jsxs)("div",{className:"jsx-2499532456 s-message",children:[(0,u.jsx)("div",{className:"jsx-2499532456 s-head",children:(0,u.jsx)("img",{src:"https://cdn.cinelove.me/samples/avatar/imageedit_6_7060799572.jpg",alt:"s-avatar",className:"jsx-2499532456"})}),(0,u.jsxs)("div",{className:"jsx-2499532456 s-content",children:[(0,u.jsx)("div",{className:"jsx-2499532456 s-name",children:"[T\xean bạn]"}),(0,u.jsxs)("div",{className:"jsx-2499532456 s-gift capitalize",children:["Gửi ",r," ",c&&"cash"===l?" ".concat(c,"đ"):""]})]}),(0,u.jsx)("img",{src:K.A.src,alt:"animation background",className:"jsx-2499532456 animate-highlight-effect"})]}),(0,u.jsx)("img",{src:i,alt:"animation thumb",className:"jsx-2499532456 s-gift-img"})]}),(0,u.jsx)(a(),{id:"2499532456",children:[".animate-slide-gift{position:absolute;top:-60px;left:14px;z-index:2;-webkit-animation:giftSlideInLeft linear 5s both;animation:giftSlideInLeft linear 5s both;}",".animate-slide-gift.exit{-webkit-animation:giftSlideOutRight 0.5s ease-out forwards;animation:giftSlideOutRight 0.5s ease-out forwards;}",".animate-slide-gift,.animate-slide-gift .animate-slide-gift-img{width:210px;height:48px;}",".animate-slide-gift .s-message{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;overflow:hidden;border-radius:48px;}",".animate-slide-gift .s-message .s-head{width:37px;height:37px;border-radius:50%;border:1px solid hsla(0,0%,100%,0.5);margin-left:6px;overflow:hidden;}",".animate-slide-gift .s-message .s-head img{width:100%;height:100%;}",".animate-slide-gift .s-message .s-content{margin-left:6px;}",".animate-slide-gift .s-message .s-name{font-size:14px;font-weight:700;color:#fff;text-align:left;}",".animate-slide-gift .s-message .s-gift{font-size:11px;font-weight:700;color:#fff;text-align:left;}",".animate-slide-gift .s-message .animate-highlight-effect{width:150px;height:48px;position:absolute;top:0;-webkit-animation:around 1.5s linear infinite alternate;animation:around 1.5s linear infinite alternate;}",".animate-slide-gift .s-gift-img{width:73px;height:73px;position:absolute;top:-17px;right:-7px;}","@-webkit-keyframes around{0%{left:-120px;}to{left:239px;}}","@keyframes around{0%{left:-120px;}to{left:239px;}}","@-webkit-keyframes giftSlideInLeft{0%{-webkit-transform:translateX(-400px);-ms-transform:translateX(-400px);transform:translateX(-400px);opacity:1;}10%,90%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}100%{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}}","@-webkit-keyframes giftSlideOutRight{from{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}to{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translateX(400px);opacity:0;}}","@keyframes giftSlideOutRight{from{-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;}to{-webkit-transform:translateX(400px);-ms-transform:translateX(400px);transform:translateX(400px);opacity:0;}}"]})]})};function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let ec=function(e){var t=e.placeholder,n=e.type,r=e.rounded,i=e.style,s=e.value,o=e.onChange;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{type:n||"text",placeholder:t,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach(function(t){(0,F.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i),value:s,onChange:o,className:"jsx-3716850107 "+"cinelove-input ".concat(r?"rounded":"")}),(0,u.jsx)(a(),{id:"3716850107",children:["input.cinelove-input.jsx-3716850107{color:black;border:1px solid #e3e3e3;height:40px;background:#f7f8f9;font-size:14px;width:100%;outline:none;box-sizing:border-box;padding:0 15px;border-radius:9px;}",".cinelove-input.rounded.jsx-3716850107{border-radius:30px;}"]})]})};var el="lixi";let ep=function(e){var t=e.isTemplatePreview,n=e.ownerName,r=(0,j.useRouter)(),s=(0,v.bi)().pageId,o=(0,v.Uh)(function(e){return e.selectGiftItem}),c=(0,v.Uh)(function(e){return e.showAnimationPreview}),l=(0,v.Uh)(function(e){return e.setGiftCashMoney}),p=(0,v.Uh)(function(e){return e.giftCashMoney}),x=(0,v.yh)(function(e){return e.setCheckoutGift}),f=(0,i.useState)(""),d=f[0],m=f[1];return(0,u.jsxs)("div",{style:{},className:"jsx-3533902574 bar-gift-cash",children:[(0,u.jsx)("img",{src:(0,k.xK)(el),alt:"lixi",className:"jsx-3533902574"}),(0,u.jsxs)("div",{className:"jsx-3533902574 give-money-wrapper",children:[(0,u.jsx)("input",{type:"number",onChange:function(e){return l(Number(e.target.value))},value:p||"",placeholder:"Nhập số tiền",className:"jsx-3533902574 give-amount"}),(0,u.jsx)("span",{className:"jsx-3533902574",children:"VNĐ"})]}),(0,u.jsxs)("div",{className:"jsx-3533902574 give-tip",children:["Số tiền sẽ được chuyển tới t\xe0i khoản Cinelove của"," ",n||"người nhận"," v\xe0 c\xf3 thể r\xfat bất cứ l\xfac n\xe0o"]}),(0,u.jsx)("div",{className:"jsx-3533902574 give-message",children:(0,u.jsx)(ec,{type:"text",rounded:!0,placeholder:"T\xean của bạn",value:d,onChange:function(e){return m(e.target.value)}})}),(0,u.jsxs)("div",{className:"jsx-3533902574 give-price",children:[(0,u.jsx)(D,{onClick:function(){o(el),c()},rounded:!0,style:{height:40,fontSize:14,marginLeft:10,background:"#fff",color:"#ed5566",border:"1px solid #ed5566"},children:"Xem trước"}),(0,u.jsx)(D,{onClick:function(){return t?void T.Ay.error("Kh\xf4ng thể gửi qu\xe0 trong chế độ xem mẫu"):d?p?p<2e3?void T.Ay.error("Số tiền tối thiểu l\xe0 2,000 VNĐ"):void(x({pageId:s,giftCode:el,senderName:d,amount:p,giftType:"cash"}),r.push("/checkout?pageId=".concat(s,"&giftCode=").concat(el,"&senderName=").concat(d))):void T.Ay.error("Vui l\xf2ng nhập số tiền"):void T.Ay.error("Vui l\xf2ng nhập t\xean của bạn")},rounded:!0,style:{height:40,fontSize:14,marginLeft:10},children:"Gửi l\xec x\xec"})]}),(0,u.jsx)(a(),{id:"3533902574",children:[".bar-gift-cash.jsx-3533902574{font-size:10px;color:#333;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 20px;text-align:center;}",".bar-gift-cash.jsx-3533902574 img.jsx-3533902574{width:100px;height:100px;}",".bar-gift-cash.jsx-3533902574 .give-amount.jsx-3533902574{width:300px;height:45px;background:#fff4f6;border-radius:9px;border:1px solid rgba(237,85,102,0.4);margin-top:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:2px 15px;font-size:18px;text-align:center;}",".bar-gift-cash.jsx-3533902574 .give-money-wrapper.jsx-3533902574 span.jsx-3533902574{font-size:11px;color:#333;margin-top:5px;display:block;}",".bar-gift-cash.jsx-3533902574 .give-tip.jsx-3533902574{font-size:12px;color:#999;margin-top:15px;}",".bar-gift-cash.jsx-3533902574 .give-tip.jsx-3533902574 span.jsx-3533902574{font-weight:600;}",".bar-gift-cash.jsx-3533902574 .give-price.jsx-3533902574{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;margin-top:10px;}",".bar-gift-cash.jsx-3533902574 .give-message.jsx-3533902574{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;margin-top:20px;}"]})]})};var eu=n(56458);let ex=function(e){var t=e.isTemplatePreview,n=e.ownerName,r=e.pageData,s=(0,i.useRef)(null),o=(0,i.useRef)(null),c=(0,v.Uh)(function(e){return e.selectedGift}),p=(0,v.Uh)(function(e){return e.isGiftListVisible}),x=(0,v.Uh)(function(e){return e.hideAnimationPreview}),f=(0,v.Uh)(function(e){return e.hideGiftList}),d=(0,v.Uh)(function(e){return e.selectGiftItem}),m=(0,v.Uh)(function(e){return e.isAnimationPreviewVisible}),g=(0,v.Uh)(function(e){return e.setGiftCashMoney}),b=(0,v.bi)().pageData,h=(null==r?void 0:r.qrBankAccounts)||(null==b?void 0:b.qrBankAccounts)||[],w=(0,l.PV)(null==r?void 0:r.showBottomToolbar,X.fu.GIFTS),k=(0,l.PV)(null==r?void 0:r.showBottomToolbar,X.fu.QR_CODE),j=(0,i.useState)(!1),y=j[0];j[1];var A=(0,v.Of)(function(e){return e.currentGiftType});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(O.A,{nodeRef:s,in:p,timeout:300,classNames:"fade",unmountOnExit:!0,children:(0,u.jsx)("div",{ref:s,onClick:function(){f(),d(null),x(),g(null)},className:"jsx-4097818752 gift-wrap-backdrop"})}),(0,u.jsx)(O.A,{nodeRef:o,in:p,timeout:200,classNames:"slideInBtm",unmountOnExit:!0,children:(0,u.jsxs)("div",{id:"gift-list-drawer",ref:o,className:"jsx-4097818752 bar-gift-new",children:[(0,u.jsx)(ei,{showQRBankTab:(null==h?void 0:h.length)>0&&k,showGiftsTab:w}),"gift"===A&&w&&(0,u.jsx)(er,{isTemplatePreview:t,ownerName:n}),"cash"===A&&k&&(0,u.jsx)(ep,{isTemplatePreview:t,ownerName:n}),"bank"===A&&k&&(0,u.jsx)(eu.A,{accounts:h,isLoading:y,mainTitle:"Gửi Qu\xe0 Mừng"}),c&&m&&(0,u.jsx)(es,{selectedGift:c},c)]})}),(0,u.jsx)(a(),{id:"4097818752",children:[".bar-gift-new.jsx-4097818752{width:100%;min-height:400px;background-color:#fff;border-radius:0.5rem 0.5rem 0 0;box-sizing:border-box;position:absolute;bottom:0;left:0;z-index:9999999;}",".gift-wrap-backdrop.jsx-4097818752{position:fixed;left:0;top:0;right:0;bottom:0;z-index:9999997;background:rgba(0,0,0,0.4);}",".slideInBtm-enter.jsx-4097818752{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);}",".slideInBtm-enter-active.jsx-4097818752{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform 0.3s ease-in-out;-webkit-transition:transform 0.3s ease-in-out;transition:transform 0.3s ease-in-out;}",".slideInBtm-exit.jsx-4097818752{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}",".slideInBtm-exit-active.jsx-4097818752{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);-webkit-transition:-webkit-transform 0.3s ease-in-out;-webkit-transition:transform 0.3s ease-in-out;transition:transform 0.3s ease-in-out;}",".fade-enter.jsx-4097818752{opacity:0;}",".fade-enter-active.jsx-4097818752{opacity:1;-webkit-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;}",".fade-exit.jsx-4097818752{opacity:1;}",".fade-exit-active.jsx-4097818752{opacity:0;-webkit-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;}"]})]})},ef=function(){var e,t=(0,v.Uh)(function(e){return e.selectedGift}),n=(0,v.Uh)(function(e){return e.isGiftListVisible}),r=(0,v.Uh)(function(e){return e.isAnimationPreviewVisible}),s=(0,v.Uh)(function(e){return e.hideAnimationPreview}),o=(0,v.en)(function(e){return e.setIsExiting}),c=(0,i.useRef)(null),l=(e=(0,g.A)(h().mark(function e(){var n,r,a,i;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=(0,Q.y)(t).binUrl){e.next=4;break}return e.abrupt("return");case 4:return c.current&&(c.current.stop(),c.current.clear(),c.current=null),r=new q.Parser,e.next=8,r.load(n);case 8:return a=e.sent,i=new q.Player({container:document.getElementById("cinelove-canvas-preview"),loop:2}),e.next=12,i.mount(a);case 12:c.current=i,i.onEnd=function(){i.clear(),o(!0),setTimeout(function(){o(!1),s()},500)},i.start(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0,"---error---");case 20:case"end":return e.stop()}},e,null,[[0,17]])})),function(){return e.apply(this,arguments)});return(0,i.useEffect)(function(){return t&&r&&l(),function(){c.current&&(c.current.stop(),c.current.clear())}},[t,r]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{id:"cinelove-animation-box",className:a().dynamic([["1710341469",[t||n?"hidden":"visible",t||n?0:1]]]),children:[(0,u.jsx)("canvas",{id:"cinelove-canvas",className:a().dynamic([["1710341469",[t||n?"hidden":"visible",t||n?0:1]]])}),(0,u.jsx)("canvas",{id:"cinelove-canvas-preview",className:a().dynamic([["1710341469",[t||n?"hidden":"visible",t||n?0:1]]])})]}),(0,u.jsx)(a(),{id:"1710341469",dynamic:[t||n?"hidden":"visible",t||n?0:1],children:["#cinelove-animation-box.__jsx-style-dynamic-selector{position:absolute;left:0;top:0;width:100%;height:38rem;z-index:9999998;pointer-events:none;}","#cinelove-canvas.__jsx-style-dynamic-selector,#cinelove-canvas-preview.__jsx-style-dynamic-selector{position:absolute;width:100%;height:auto;background-color:transparent;top:-15vh;left:0;opacity:1;-webkit-transition:visibility 0.2s ease-in-out,opacity 0.2s ease-in-out;transition:visibility 0.2s ease-in-out,opacity 0.2s ease-in-out;}","#cinelove-canvas.__jsx-style-dynamic-selector{visibility:".concat(t||n?"hidden":"visible",";opacity:").concat(t||n?0:1,";}"),"@media screen and (max-height:700px){#cinelove-canvas.__jsx-style-dynamic-selector,#cinelove-canvas-preview.__jsx-style-dynamic-selector{top:-30vh;}}","@media screen and (min-height:701px) and (max-height:800px){#cinelove-canvas.__jsx-style-dynamic-selector,#cinelove-canvas-preview.__jsx-style-dynamic-selector{top:-25vh;}}"]})]})},ed=function(e){var t=e.isTemplatePreview,n=e.ownerName,r=e.pageData,a=(0,l.PV)(null==r?void 0:r.showBottomToolbar,X.fu.GIFTS),i=(0,l.PV)(null==r?void 0:r.showBottomToolbar,X.fu.QR_CODE);return(0,u.jsxs)(u.Fragment,{children:[a&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Z,{isTemplatePreview:t,pageId:null==r?void 0:r.pageId}),(0,u.jsx)(ef,{})]}),(a||i)&&(0,u.jsx)(ex,{isTemplatePreview:t,ownerName:n,pageData:r}),(0,u.jsx)(M,{isTemplatePreview:t,pageId:null==r?void 0:r.pageId})]})};var em=n(88065);let eg=function(e){var t,n,r=e.children,p=e.device,x=e.isTemplatePreview,f=void 0!==x&&x,g=e.ownerName,b=e.pageData,h=e.disableAudio,v=e.shouldPreventScroll,w=void 0!==v&&v,k=null==(t=null==b?void 0:b.showBottomToolbar)||t,j=null!=(n=null==b?void 0:b.hideWatermark)&&n,y=(0,c.j)(function(e){return e.fetchGifts}),A=(0,i.useState)(!0),N=A[0],z=A[1],I=(0,i.useState)(w),S=I[0],C=I[1];(0,i.useEffect)(function(){y()},[y]),(0,i.useEffect)(function(){if(w){var e=function(){C(!1)};return window.addEventListener("envelope-opened",e),function(){window.removeEventListener("envelope-opened",e)}}},[w]);var P=(0,l.QU)(k),Y=(0,l.PV)(null==b?void 0:b.showBottomToolbar,X.fu.COMMENTS);return(0,u.jsxs)("div",{id:"app-view-index",className:"jsx-3116023621 "+((0,s.A)({"mobile-view":"mobile"==p,"vertical-toolbar":!1,"hide-toolbar":!P||!N})||""),children:[(0,u.jsx)(d,{openingEffect:null==b?void 0:b.openingEffect}),!(void 0!==h&&h)&&(0,u.jsx)(m.A,{pageData:b}),r,P&&!S&&(0,u.jsxs)(u.Fragment,{children:[Y&&(0,u.jsx)(E,{templateCategoryId:null==b?void 0:b.categoryId,isTemplatePreview:f,pageId:null==b?void 0:b.pageId}),(0,u.jsx)(U,{showBottomToolbar:k,pageData:b}),(0,u.jsx)(ed,{isTemplatePreview:f,ownerName:void 0===g?null:g,pageData:b}),(0,u.jsx)("div",{onClick:function(){z(!N)},className:"jsx-3116023621 toolbar-toggle-button",children:N?(0,u.jsx)(o.lr4,{size:24}):(0,u.jsx)(o.yFL,{size:24})}),(0,u.jsx)(em.A,{snowflakeEffect:null==b?void 0:b.snowflakeEffect})]}),!j&&(0,u.jsx)("div",{className:"jsx-3116023621 "+((0,s.A)("watermark",{"hide-toolbar":!P,"hide-toolbar-content":!N})||""),children:(0,u.jsx)("div",{className:"jsx-3116023621 watermark-content",children:(0,u.jsxs)("span",{style:{fontSize:"12px",letterSpacing:"1px"},className:"jsx-3116023621",children:["Made by",(0,u.jsx)("a",{href:"https://cinelove.me",className:"jsx-3116023621 watermark-link",children:"Cinelove"})]})})}),(0,u.jsx)(a(),{id:"371276267",children:["#app-view-index.hide-toolbar #cinelove-toolbar,#app-view-index.hide-toolbar #cinelove-animation-box,#app-view-index.hide-toolbar .received-gifts-wrapper{display:none;}","#app-view-index.hide-toolbar #blessing-box{visibility:hidden;}","#app-view-index.hide-toolbar .page-container{margin-bottom:0;}",".toolbar-toggle-button{position:absolute;right:8px;bottom:70px;width:35px;height:35px;border-radius:50%;background-color:rgba(255,255,255,0.9);box-shadow:0 2px 10px rgba(0,0,0,0.2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;z-index:999;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;}",".toolbar-toggle-button:hover{background-color:#fff;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}","#app-view-index.hide-toolbar .toolbar-toggle-button{bottom:20px;}"]}),(0,u.jsx)(a(),{id:"3436474471",children:[".watermark.jsx-3116023621{position:absolute;bottom:120px;right:7px;text-align:center;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);width:20px;white-space:nowrap;height:20px;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;z-index:999;}",".watermark.hide-toolbar.jsx-3116023621{bottom:50px;}",".watermark.hide-toolbar-content.jsx-3116023621{bottom:70px;}",".watermark-content.jsx-3116023621{text-align:center;color:#1c1c1c;font-size:14px;font-weight:300;}",".watermark-link.jsx-3116023621{color:#414141;-webkit-text-decoration:none;text-decoration:none;font-weight:500;margin-left:2px;-webkit-transition:color 0.3s ease;transition:color 0.3s ease;}",".watermark-link.jsx-3116023621:hover{color:#000;}"]})]})}},11084:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(63857),a=n(43081),i=n.n(a),s=n(14232),o=n(68787),c=n(36423),l=n(37876);let p=s.memo(function(e){var t=e.pageData,n=e.autoplay,a=void 0===n||n,p=t.audioKey,u=t.audioIcon,x=t.audioIconColor,f=(0,s.useState)(!1),d=f[0],m=f[1],g=(0,s.useRef)(null),b=(0,s.useState)(!1),h=b[0],v=b[1];(0,s.useEffect)(function(){g.current&&g.current.load()},[p]),(0,s.useEffect)(function(){var e,t=!0,n=(e=(0,r.A)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g.current&&t)){e.next=11;break}return e.prev=1,g.current.volume=.5,e.next=5,g.current.play();case 5:m(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Auto-play failed:",e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),function(){return e.apply(this,arguments)});return a&&n(),function(){t=!1,g.current&&d&&g.current.pause()}},[]),(0,s.useEffect)(function(){var e=["mousedown","keydown","touchstart","scroll"],t=function(){!h&&g.current&&!d&&a&&g.current.play().then(function(){m(!0),v(!0)}).catch(function(e){console.error("Play after interaction failed:",e)})};return e.forEach(function(e){document.addEventListener(e,t,{once:!0})}),function(){e.forEach(function(e){document.removeEventListener(e,t)})}},[d,h]);var w=(0,s.useCallback)(function(){m(function(e){return g.current&&(e?g.current.pause():g.current.play().catch(function(e){console.error("Play failed:",e)})),!e})},[]);if(!p)return null;var k=p.startsWith("mp3/")?"".concat(c.A.CDN_MP3_URL,"/").concat(p):"".concat(c.A.CDN_URL,"/").concat(p);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A,{onClick:w,playing:d,audioIcon:u,audioIconColor:x}),(0,l.jsx)("audio",{src:k,ref:g,loop:!0,preload:"auto"})]})})},16752:e=>{"use strict";e.exports=JSON.parse('{"v":"5.5.2","fr":30,"ip":0,"op":103,"w":750,"h":750,"nm":"loves","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"love","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":8.4,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":33.6,"s":[100]},{"t":42,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[36,38,0],"to":[0,-0.098,0],"ti":[0,0.219,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":8.4,"s":[36,169.5,0],"to":[0,-0.367,0],"ti":[0,-31.491,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":33.6,"s":[36,614.332,0],"to":[0,13.816,0],"ti":[0,0.072,0]},{"t":42,"s":[36,722,0]}],"ix":2},"a":{"a":0,"k":[36,36,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[80,80,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":8.4,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":33.6,"s":[100,100,100]},{"t":42,"s":[80,80,100]}],"ix":6}},"ao":0,"w":72,"h":72,"ip":0,"op":900,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"love","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[36,36,0],"ix":2},"a":{"a":0,"k":[20,20,0],"ix":1},"s":{"a":0,"k":[178.75,178.75,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.74,-8.513],[3.25,1.25],[-1.949,6.406],[-2.978,-4.415]],"o":[[5.488,-6.75],[-1.211,3.761],[-5.37,-2.065],[1.923,-6.316],[-3.059,-4.535]],"v":[[0,-5.545],[11.441,-0.205],[-0.934,11.045],[-12.232,-4.514],[0,-5.545]],"c":true},"ix":2},"nm":"\xc3\xa8\xc2\xb7\xc2\xaf\xc3\xa5\xc2\xbe\xc2\x84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\xc3\xa5\xc2\xa1\xc2\xab\xc3\xa5\xc2\x85\xc2\x85 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[20.099,19.859],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\xc3\xa5\xc2\x8f\xc2\x98\xc3\xa6\xc2\x8d\xc2\xa2"}],"nm":"\xc3\xa7\xc2\xbb\xc2\x84 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-10.942],[10.942,0],[0,10.942],[-10.943,0]],"o":[[0,10.942],[-10.943,0],[0,-10.942],[10.942,0]],"v":[[19.812,0],[0.001,19.812],[-19.812,0],[0.001,-19.812]],"c":true},"ix":2},"nm":"\xc3\xa8\xc2\xb7\xc2\xaf\xc3\xa5\xc2\xbe\xc2\x84 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.9568627450980393,0.30196078431372547,0.5176470588235295,0.5,0.9568627450980393,0.30196078431372547,0.5176470588235295,1,0.9568627450980393,0.30196078431372547,0.5176470588235295],"ix":9}},"s":{"a":0,"k":[-0.472,-16.969],"ix":5},"e":{"a":0,"k":[0.146,20],"ix":6},"t":1,"nm":"gradient","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9568627450980393,0.30196078431372547,0.5176470588235295,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"\xc3\xa5\xc2\xa1\xc2\xab\xc3\xa5\xc2\x85\xc2\x85 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[19.812,19.938],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\xc3\xa5\xc2\x8f\xc2\x98\xc3\xa6\xc2\x8d\xc2\xa2"}],"nm":"\xc3\xa7\xc2\xbb\xc2\x84 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":900,"st":0,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"love","refId":"comp_1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":13.2,"s":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":48,"s":[100]},{"t":60,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[36,38,0],"to":[0,-0.098,0],"ti":[0,0.219,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":13.2,"s":[36,169.5,0],"to":[0,-0.367,0],"ti":[0,-31.491,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":48,"s":[36,614.332,0],"to":[0,13.816,0],"ti":[0,0.072,0]},{"t":60,"s":[36,722,0]}],"ix":2},"a":{"a":0,"k":[36,36,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[80,80,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":13.2,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":48,"s":[100,100,100]},{"t":60,"s":[80,80,100]}],"ix":6}},"ao":0,"w":72,"h":72,"ip":0,"op":900,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"love path 2","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":30,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[332,375,0],"ix":2},"a":{"a":0,"k":[36,375,0],"ix":1},"s":{"a":0,"k":[77.778,77.778,100],"ix":6}},"ao":0,"w":72,"h":750,"ip":13.2,"op":73.2,"st":13.2,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"love path 2","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":30,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[552,375,0],"ix":2},"a":{"a":0,"k":[36,375,0],"ix":1},"s":{"a":0,"k":[88.889,88.889,100],"ix":6}},"ao":0,"w":72,"h":750,"ip":37.2,"op":97.2,"st":37.2,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"love path","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":40,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[111,495,0],"ix":2},"a":{"a":0,"k":[36,375,0],"ix":1},"s":{"a":0,"k":[66.667,66.667,100],"ix":6}},"ao":0,"w":72,"h":750,"ip":25.2,"op":85.2,"st":25.2,"bm":0},{"ddd":0,"ind":4,"ty":0,"nm":"love path","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":30,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[637,459,0],"ix":2},"a":{"a":0,"k":[36,375,0],"ix":1},"s":{"a":0,"k":[76.8,76.8,100],"ix":6}},"ao":0,"w":72,"h":750,"ip":30,"op":90,"st":30,"bm":0},{"ddd":0,"ind":5,"ty":0,"nm":"love path","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[495,375,0],"ix":2},"a":{"a":0,"k":[36,375,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":72,"h":750,"ip":9.6,"op":69.6,"st":9.6,"bm":0},{"ddd":0,"ind":6,"ty":0,"nm":"love path","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[235,375,0],"ix":2},"a":{"a":0,"k":[36,375,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":72,"h":750,"ip":-2.4,"op":57.6,"st":-2.4,"bm":0},{"ddd":0,"ind":7,"ty":0,"nm":"love path","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[375,375,0],"ix":2},"a":{"a":0,"k":[36,375,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":72,"h":750,"ip":19.2,"op":79.2,"st":19.2,"bm":0}],"markers":[]}')},17605:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,k:()=>s}),n(14232);var r=n(37876),a=function(e){var t=e.size,n=void 0===t?20:t;return(0,r.jsx)("img",{src:"/icons/coin.svg",alt:"coin",style:{width:n,height:n}})};let i=a;var s=function(e){var t=e.payAmount,n=e.giftPrice,i=e.showVnd,s=e.coinSize,o=e.className;return(0,r.jsxs)("div",{className:"price-display flex items-center gap-2 ".concat(void 0===o?"":o),children:[(0,r.jsxs)("span",{className:"coin-value flex items-center gap-1 font-medium",children:[n.toLocaleString("vi-VN"),(0,r.jsx)(a,{size:void 0===s?16:s})]}),(void 0===i||i)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-500 px-1",children:"≈"}),(0,r.jsxs)("span",{className:"vnd-value text-gray-600",children:[t.toLocaleString("vi-VN"),"đ"]})]})]})}},22612:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r={src:"/_next/static/media/bg-gray.df764695.png",height:126,width:348,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAElBMVEX///////////////////////+65XQCAAAABnRSTlMCPCEWKBuQooPCAAAACXBIWXMAACE4AAAhOAFFljFgAAAAHklEQVR4nBXFsREAIAwAIT7R/Vf2pAFOLUzd/9bgAQF7ABrhvwf0AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3}},22800:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var r=n(63857),a=n(43081),i=n.n(a),s=n(8106),o=n(45382),c=(0,s.v)(function(e,t){var n;return{gifts:[],isLoading:!1,error:null,giftsMap:{},fetchGifts:(n=(0,r.A)(i().mark(function n(){var r,a,s;return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t().gifts.length>0&&!t().error)){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,e({isLoading:!0,error:null}),n.next=6,(0,o.Ld)();case 6:(r=n.sent).success&&r.gifts?(s=(a=r.gifts.sort(function(e,t){return e.price-t.price})).reduce(function(e,t){return e[t.code]=t,e},{}),e({gifts:a,giftsMap:s,isLoading:!1})):e({error:"Failed to load gifts",isLoading:!1}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),console.error("Error fetching gifts:",n.t0),e({error:"Failed to load gifts",isLoading:!1});case 14:case"end":return n.stop()}},n,null,[[2,10]])})),function(){return n.apply(this,arguments)})}})},32939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(14232),a=n(1347),i=n.n(a),s=n(36423),o=n(37876);function c(e){var t=e.children,n=e.isProcessing,a=void 0!==n&&n,c=e.className,l=e.scrollSpeed,p=void 0===l?.06:l,u=e.initialDelay,x=void 0===u?1e3:u,f=e.rootBackground,d=e.shouldPreventScroll,m=void 0!==d&&d,g=e.enabled,b=void 0===g||g,h=(0,r.useRef)(null),v=(0,r.useState)(b),w=v[0],k=v[1],j=(0,r.useState)(!1),y=j[0],A=j[1],N=(0,r.useState)(m),z=N[0],E=N[1],I=(0,r.useRef)(void 0),S=(0,r.useRef)(!1),C=(0,r.useCallback)(function(){if(h.current){var e=performance.now(),t=function(n){if(h.current&&w){var r=n-e,a=h.current;if(a.scrollTo({top:a.scrollTop+r*p,behavior:"auto"}),a.scrollTop>=a.scrollHeight-a.clientHeight)return void k(!1);e=n,I.current=requestAnimationFrame(t)}};I.current=requestAnimationFrame(t)}},[p,w]);return(0,r.useEffect)(function(){if(m){var e=function(){A(!0),E(!1)};return window.addEventListener("envelope-opened",e),function(){return window.removeEventListener("envelope-opened",e)}}},[m]),(0,r.useEffect)(function(){if(!a&&!S.current&&b&&(!m||y)){var e=setTimeout(function(){S.current=!0,C()},x);return function(){return clearTimeout(e)}}},[a,C,x,m,y,b]),(0,r.useEffect)(function(){var e=h.current;if(e){var t=function(e){if(z)return void e.preventDefault();w&&(k(!1),I.current&&cancelAnimationFrame(I.current))},n=function(e){z&&e.preventDefault()};return e.addEventListener("wheel",t,{passive:!1}),e.addEventListener("touchmove",n,{passive:!1}),function(){e.removeEventListener("wheel",t),e.removeEventListener("touchmove",n)}}},[z,w]),(0,r.useEffect)(function(){return function(){I.current&&cancelAnimationFrame(I.current),k(!1)}},[]),(0,o.jsxs)("div",{ref:h,className:"relative overflow-x-hidden ".concat(i().customScroll," ").concat(void 0===c?"":c),style:{backgroundColor:(void 0===f?"#fff":f)||"#fff",overflowY:z?"hidden":"auto",touchAction:z?"none":"auto"},onTouchStart:function(){!z&&w&&(k(!1),I.current&&cancelAnimationFrame(I.current))},children:[b&&!w&&!z&&(0,o.jsx)("img",{src:"".concat(s.A.CDN_URL,"/assets/play-icon.png"),alt:"play icon",id:"auto-scroll-play",onClick:function(){if(h.current){k(!0),h.current;var e=performance.now(),t=function(n){if(h.current){var r=n-e,a=h.current;if(a.scrollTo({top:a.scrollTop+r*p,behavior:"auto"}),a.scrollTop>=a.scrollHeight-a.clientHeight)return void k(!1);e=n,I.current=requestAnimationFrame(t)}};I.current=requestAnimationFrame(t)}},style:{position:"fixed",top:"10px",left:"10px",width:"40px",height:"40px",zIndex:1e3,cursor:"pointer"}}),t]})}},45382:(e,t,n)=>{"use strict";n.d(t,{Ld:()=>u,Pm:()=>p,_R:()=>x,lj:()=>c,tj:()=>l});var r=n(63857),a=n(43081),i=n.n(a),s=n(91040),o=n(36423),c=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.A.get("".concat(o.A.API_URL,"/messages/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.A.post("".concat(o.A.API_URL,"/messages"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error adding message:",e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.A.get("".concat(o.A.API_URL,"/gifts/received/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching received gifts:",e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.A)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.A.get("".concat(o.A.API_URL,"/gifts/animated-gift"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.A.get("".concat(o.A.API_URL,"/gifts/").concat(t,"/views"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},51118:(e,t,n)=>{"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{pH:()=>x});var i=["vcl","vkl","cc","vl","đm","dm","lồn","đụ","đ\xedt","đĩ","địt","cặc","v\xe3i","đ\xe9o","buồi"],s=["đồ ch\xf3","ch\xf3 m\xe1","con ch\xf3","thằng ch\xf3","\xf3c ch\xf3","đồ ngu","thằng ngu"],o=["clgt","đmm","dmm","dcm","dcmm","đcm","đcmm","địt mẹ","dit me","du ma","đụ m\xe1","đụ mẹ","con đĩ","đồ đĩ","buscu","loz","lồz","ngu si","ngu ngốc","khốn nạn","mất dạy","bố l\xe1o","fuck","fucking","shit","bitch","asshole","bastard","damn","pussy","dick","cock","cunt","whore","slut","fck","fuk","bullshit","motherfucker","mofo"],c=[/\bl[oò0ọ]n\b/gi,/đ[iì1!ị]t\s*m[eẹéè]/gi,/d[iì1!ị]t\s*m[eẹéè]/gi,/đ[mụuùú]\s*m[áaạàả]/gi,/d[mụuùú]\s*m[áaạàả]/gi,/\bf[u\*]ck/gi,/\bsh[i1!]t/gi,/\bb[i1!]tch/gi];function l(e){return e.toLowerCase().trim().replace(/\s+/g," ").replace(/[_\-\.]/g,"")}function p(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function u(e){if(!e||"string"!=typeof e)return!1;var t,n=l(e),a=r(i);try{for(a.s();!(t=a.n()).done;){var u=t.value,x=l(u);if(function(e,t){var n=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return RegExp("(^|\\s|[^a-zA-Z\xc0-ỹ])".concat(n,"($|\\s|[^a-zA-Z\xc0-ỹ])"),"gi").test(e)}(n,x))return!0}}catch(e){a.e(e)}finally{a.f()}var f,d=r(s);try{for(d.s();!(f=d.n()).done;){var m=f.value,g=l(m);if(n.includes(g))return!0}}catch(e){d.e(e)}finally{d.f()}var b,h=p(n),v=r(o);try{for(v.s();!(b=v.n()).done;){var w=b.value,k=l(w),j=p(k);if(n.includes(k)||h.includes(j))return!0}}catch(e){v.e(e)}finally{v.f()}var y,A=r(c);try{for(A.s();!(y=A.n()).done;)if(y.value.test(n))return!0}catch(e){A.e(e)}finally{A.f()}return!1}function x(e,t){return u(e)?{isValid:!1,errorMessage:"T\xean của bạn chứa từ ngữ kh\xf4ng ph\xf9 hợp. Vui l\xf2ng sử dụng ng\xf4n từ lịch sự!"}:u(t)?{isValid:!1,errorMessage:"Lời ch\xfac chứa từ ngữ kh\xf4ng ph\xf9 hợp. Vui l\xf2ng sử dụng ng\xf4n từ lịch sự!"}:{isValid:!0}}},54737:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{n:()=>function e(t){if(!t||"object"!=typeof t)return{hasEnvelope:!1,preventScrollUntilOpened:!1};if((null==(n=t.type)?void 0:n.resolvedName)==="PluginAnimatedEnvelope")return{hasEnvelope:!0,preventScrollUntilOpened:null==(a=null==(i=t.props)?void 0:i.preventScrollUntilOpened)||a};if(t.nodes&&Array.isArray(t.nodes)){var n,a,i,s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}(t.nodes);try{for(o.s();!(s=o.n()).done;){var c=s.value;if(t[c]){var l=e(t[c]);if(l.hasEnvelope)return l}}}catch(e){o.e(e)}finally{o.f()}}for(var p in t)if(t.hasOwnProperty(p)&&"object"==typeof t[p]){var u=e(t[p]);if(u.hasEnvelope)return u}return{hasEnvelope:!1,preventScrollUntilOpened:!1}}})},78820:(e,t,n)=>{"use strict";n.d(t,{$W:()=>x,BG:()=>v,Db:()=>p,HV:()=>f,Lh:()=>u,Qz:()=>d,X5:()=>l,XA:()=>b,d7:()=>h,pk:()=>m,ru:()=>g});var r=n(63857),a=n(43081),i=n.n(a),s=n(91040),o=n(51695),c=n(36423);n(72185);var l=function(){var e=(0,r.A)(i().mark(function e(t){var n,r,a,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t?{Authorization:"Bearer ".concat(t)}:void 0,e.next=4,o.A.get("/pages/all",{headers:n});case 4:if(!(r=e.sent).data.success){e.next=7;break}return e.abrupt("return",r.data);case 7:case 16:return e.abrupt("return",{success:!1,pages:[]});case 10:if(e.prev=10,e.t0=e.catch(0),console.error("Error fetching pages---:",e.t0),!(e.t0&&"object"==typeof e.t0&&"response"in e.t0)){e.next=16;break}return s=e.t0,e.abrupt("return",{success:!1,pages:[],status:null==(a=s.response)?void 0:a.status});case 17:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.A)(i().mark(function e(t,n){var r,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n?{Authorization:"Bearer ".concat(n)}:void 0,e.next=4,o.A.delete("/pages/".concat(t),{headers:r});case 4:return a=e.sent,e.abrupt("return",a.data.success);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error deleting page:",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.A.get("".concat(c.A.API_URL,"/pages/").concat(t,"/likes"));case 3:return n=e.sent,e.abrupt("return",{success:!0,likes:n.data.likes||0});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching likes:",e.t0),e.abrupt("return",{success:!1,likes:0});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.A.post("".concat(c.A.API_URL,"/pages/").concat(t,"/likes"));case 3:return n=e.sent,e.abrupt("return",{success:!0,likes:n.data.likes});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error increasing likes:",e.t0),e.abrupt("return",{success:!1,likes:0});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.A.post("".concat(c.A.API_URL,"/pages/").concat(t,"/views"));case 3:return n=e.sent,e.abrupt("return",{success:!0,views:n.data.views});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error increasing views:",e.t0),e.abrupt("return",{success:!1,views:0});case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.A)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.post("/pages/custom-slug",{pageId:t,customSlug:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error updating custom URL:",e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.A)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.patch("/pages/".concat(t,"/status"),{status:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error updating page status:",e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.A)(i().mark(function e(t,n,r){var a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.put("/pages/".concat(t,"/basic-info"),{pageName:n,thumbnailKey:r});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error updating page basic info:",e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.get("/pages/".concat(t,"/statistics"));case 3:if(!(n=e.sent).data.success){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",{success:!1,page:null,statistics:{commentsCount:0,giftsCount:0,totalGiftValue:0,likesCount:0,viewsCount:0,createdAt:"",updatedAt:"",status:"published"},message:n.data.message||"Kh\xf4ng thể tải th\xf4ng tin trang v\xe0 thống k\xea"});case 9:return e.prev=9,e.t0=e.catch(0),console.error("Error fetching page statistics:",e.t0),e.abrupt("return",{success:!1,page:null,statistics:{commentsCount:0,giftsCount:0,totalGiftValue:0,likesCount:0,viewsCount:0,createdAt:"",updatedAt:"",status:"published"},message:"Lỗi khi kết nối với m\xe1y chủ"});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.A)(i().mark(function e(){var t,n,r,a=arguments;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,n=a.length>1&&void 0!==a[1]?a[1]:12,e.prev=2,e.next=5,s.A.get("".concat(c.A.API_URL,"/pages/featured?page=").concat(t,"&limit=").concat(n));case 5:return r=e.sent,e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Error fetching featured pages:",e.t0),e.abrupt("return",{success:!1,pages:[],pagination:{total:0,page:1,pages:0}});case 13:case"end":return e.stop()}},e,null,[[2,9]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.A)(i().mark(function e(t){var n,r,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.post("/pages/".concat(t,"/clone"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),console.error("Error cloning page:",e.t0),!(e.t0&&"object"==typeof e.t0&&"response"in e.t0)){e.next=13;break}return a=e.t0,e.abrupt("return",{success:!1,message:(null==(r=a.response)||null==(r=r.data)?void 0:r.message)||"Kh\xf4ng thể nh\xe2n bản trang",pageId:"",page:null});case 13:return e.abrupt("return",{success:!1,message:"Lỗi khi kết nối với m\xe1y chủ",pageId:"",page:null});case 14:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},88051:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(36423),a=n(22800),i=r.A.CDN_URL;function s(e){var t=a.j.getState().giftsMap[e];return t?{title:t.title,price:t.price,thumbUrl:"".concat(i,"/").concat(t.thumbKey),binUrl:"".concat(i,"/").concat(t.binKey),bgUrl:"".concat(i,"/").concat(t.bgKey)}:{}}}}]);